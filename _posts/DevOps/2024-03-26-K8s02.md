---
title: "[K8s] 쿠버네티스 설치(2)_도커 설치"      # 글 제목
date: 2024-03-26 01:00:00 +0900 # 작성 시간
categories: [DEVOPS, KUBERNETES]        # [대분류, 소분류]
tags: [k8s, kubernetes, docker]     # 태그 (반드시 소문자로 시작 권장)
---
### 17\. 도커 설치
1. apt update
![image](https://blog.kakaocdn.net/dna/syNqf/btsF5rXdIIP/AAAAAAAAAAAAAAAAAAAAAOHsUUs-yfoJ-sxD6YweVPNpCtQtr3hYrXGVun5mjtcy/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=Cf7dqReYBFN4JBOX6hOtWzDizvk%3D)

2. ca-certificates, curl,  gnupg, lsb-release 패키지 설치
![image](https://blog.kakaocdn.net/dna/kPjin/btsF5T6QA61/AAAAAAAAAAAAAAAAAAAAAONHInWGI3IcVqgTAIv7UR2vNUfq8NSeq-dLCsHDG7tz/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=oxVFA3M3OjdIRIqLNz%2Fz3GKhMeI%3D)

3. repository 추가 등록
비공식 repository로부터 패키지를 다운받아야 하기 때문에 인증키가 필요
![image](https://blog.kakaocdn.net/dna/cJpqoY/btsF2vTXFwu/AAAAAAAAAAAAAAAAAAAAAPyJAQqtuOhBoTuPAHyLfBAiSMTe2vKU4GYJVv4Qpz71/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=TOpYICv6XBYZdb45ED1hZU32sYI%3D)

    ```shell
    curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg -dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
    ```

4. k8s에 대한 기본 repository가 없기 때문에 인증키를 위해 추가
![image](https://blog.kakaocdn.net/dna/bzorMs/btsF5vSPDnG/AAAAAAAAAAAAAAAAAAAAAJr8fCfLVnp5fnKKXoJt0Zxn8-pmHDuW3DMdNwk5dDIn/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=mqZNvlpAVAY6rmN67yMjLhPtqZY%3D)

    ```shell
    echo "deb \[arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg\] https://download.docker.com/linux/ubuntu $(lsb\_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
    ```

5. 인증키를 추가한 repository 경로를 다시 apt update
![image](https://blog.kakaocdn.net/dna/bgyG8S/btsF4WwfdiT/AAAAAAAAAAAAAAAAAAAAAPmlxHZBRqSonNAN4R-VvWO7pATRBUs7GY1XaPlZAt7t/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=qchWTckj2BN8qM4rgYb%2Bjgy3P3g%3D)

6. 도커 패키지 설치
![image](https://blog.kakaocdn.net/dna/bv2k1F/btsF4znCAdp/AAAAAAAAAAAAAAAAAAAAAES5ixcizQYGSS-rS1_aAqWnYKkTkRtRK4WJ_7SC2R2V/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=QYReCYlX%2FV8o9ZRQAqZEYuJG3IY%3D)

7. 설치한 docker, containerd 데몬 활성화 후 docker 버전 확인
![image](https://blog.kakaocdn.net/dna/6OBE1/btsF63umW5h/AAAAAAAAAAAAAAAAAAAAAL3bHs4VwKagiXPxJHGWACM0AMEhYfoSK4UcOQOG8Ld2/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=5MOAzzXfT4lqsIlc4Lo7WUAxrW8%3D)

### 18\. docker 설치 후, docker의 cgroup driver를 cgroupfs에서 systemd로 변경
데몬 재활성화, 재실행 후 cgroup driver systemd로 변경된 것 확인
![image](https://blog.kakaocdn.net/dna/H674K/btsF63A8B30/AAAAAAAAAAAAAAAAAAAAAHCQabvhtcVtlLO6Mwoln3K9kY-FAbU1FUFRe5wx68pY/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=WzHH%2B20pLJT6PvutzWWHwSYR3Xo%3D)
![image](https://blog.kakaocdn.net/dna/G6dzi/btsF3T0Pdlm/AAAAAAAAAAAAAAAAAAAAAOjX2s7r3WsWa4S2mtK8HRibW1NWB66AbsErY71SWdaH/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=PNU0Rp%2BNxN50ZJ3sb2Z5KWms34I%3D)