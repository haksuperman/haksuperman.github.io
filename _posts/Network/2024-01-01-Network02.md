---
title: Network 기본 개념(LAN, WAN 등)      # 글 제목
date: 2024-01-01 17:17:00 +0900 # 작성 시간
categories: [ON-PREMISE, NETWORK]        # [대분류, 소분류]
tags: [network, lan, wan, csma/cd, utp]     # 태그 (반드시 소문자로 시작 권장)
---
## Networking

### 1\. 연결성

####   1) 데이터(Data)

-   2진수 형태의 값으로 만들어 각 스토리지나 Database에 ASCII 코드에 의해 정제된 데이터로 저장됨(DB의 경우 SQL로 조작)
-   8byte의 형태로 저장됨(1byte=1char)

   1-1) 송신 측

-   구리로 이루어진 연결성이 보장된 미디어를 통해 전송
-   2진수로 변환 후 부호화(인코딩(전기 흐름 유무(0/1))하여 전송

   1-2) 수신 측

-   전기 흐름 유무(0/1)를 이용해 복호화(디코딩)하여 원문으로 복원

\=> 연결성이 보장된 곳까지는 인코딩, 디코딩 과정을 거쳐 데이터 전송 가능(=데이터 통신)

​

※ 전압의 세기를 이용해 전류(구리)의 양을 전송하는 개념이기 때문에 배터리가 다 되면 0과 1의 양분면이 아닌 서서히 줄어드는 것(구리 선의 저항 때문에 전류가 약해지는 것), 전압이 약해진 전류로는 온전한 원문으로 디코딩하기가 어려움

\-> 장거리 전송에는 약해지는 전류에 대비해 중간에 전기 제품을 두어 약해진 전류를 다시 증폭 시켜줌

​

####   2)  두 장치의 연결성

-   두 장치를 연결하려면 미디어(Media)를 통해 연결성을 갖도록 해야 함(UTP, STP 등의 케이블 이용)
-   TP 케이블은 8개의 Line으로 이루어짐(4가지의 색으로 꼬여있음, 4 Pair)

\* TP(Twisted Pair) : 동아줄처럼 2가닥씩 꼬아 만든 케이블(전류가 흐르는 미디어에는 자기장이 생성되는데, 자기장의 세기가 계속해서 세지지 않도록 상쇄시키기 위해 꼬아 놓음)

\* UTP/STP : 꼬아진 TP 케이블을 자기장과 같은 외부 자극에 최대한 보호하기 위해 피복을 씌워 놓음(STP), 이 피복을 씌워 놓지 않음(UTP)

\=> UTP는 외부 자극이 비교적 덜 발생하는 실내, LAN 환경에서 사용(100M까지는 감쇠현상 x), STP는 실외에서 사용

-   양 케이블을 PC에 연결시키기 위해 사용하는 커넥터(RJ45)
-   케이블의 어떤 핀이 어떤 핀에 연결되어 있는지에 따라 송수신 배열이 다름
-   1 2 3 4 5 6 7 8의 배열 중 1/2는 송신, 3/6은 수신, 4/5/7/8은 예비
-   (송신 측 1/2가 수신측 3/6으로, 수신측 1/2가 송신 측 3/6으로) => 크로스오버 케이블

![image](/assets/img/posts/Network/Network02_01.png)

![image](/assets/img/posts/Network/Network02_02.png)

-   End to End / Peer to Peer
-   End to End : 중계기를 거쳐 최종 송수신지까지 통신

\* 중간 중계기들을 무시하고 최종 끝단 장치들끼리의 그림만 본다면 무조건 크로스 그림이 나옴(다이렉트 케이블은 중계기들끼리의 통신에 사용)

-   UTP 케이블의 최대 범위는 100M, 그 이상은 허브, 스위치와 같은 증폭기를 사용해야 함
-   ex) PC A와 PC B의 거리는 150M, 각 PC 별 75M지점에 허브 설치, 허브 1포트는 PC A, 허브 2포트는 PC B(허브에서 1포트와 2포트가 송수신(1/2 -> 3/6) 회로가 장착되어 있음
-   \-> 크로스 케이블의 꼬임배열로 모든 장치를 연결하면 계속 꼬이기만 하기 때문에 감쇄 현상이 큼

\* 위의 허브와 같이 스위치의 회로는 꼬임 고정이기 때문에 다이렉트로 연결함(스위치에서 꼬으면 결국에는 크로스 결과가 이루어짐)

\* 중간 증폭기 역할을 하는 중계기의 개수 계산하고 크로스/다이렉트 케이블을 정해야 함(ex. 스위치의 개수가 2개면 결과적으로 꼬이지 않으니, 스위치끼리는 크로스를 연결해야함)

**\=> 끝단 장치와 스위치(or허브)의 연결은 다이렉트, 스위치(or허브)끼리의 연결은 크로스**

     (ex. PC - PC : 크로스 / PC - SW : 다이렉트 / SW - RO : 다이렉트 / RO - RO : 크로스 / SW - Hub : 크로스)

\* 다이렉트와 크로스 케이블의 배열

-   다이렉트 배열 : 갈/흰갈/녹/흰파/파/흰녹/주/흰주
-   크로스 배열 : 갈/흰갈/주/흰파/파/흰주/녹/흰녹

### 2\. LAN

-   CSMA/CD의 규칙을 갖는 범위까지 LAN으로 봄
-   다수의 PC와 연결되어 있는 Multi Access 형태의 LAN 구성
-   각 PC를 1대1로 연결(Mesh)시키지 않고 이를 중간에 포트가 여러 개 꽂힌 허브를 놓고 허브를 이용(Star)해 모두 연결시킴
-   1대1 형태로 연결되어 있는 것이 아니기 때문에 각 PC를 구분하는 구분자(주소)가 필요함
-   데이터를 인코딩, 디코딩하는 것이 NIC 카드인데, 이 NIC 카드에 Haraware Address가 있음

#### 1) CSMA/CD

-   Hardware Address(MAC)를 사용
-   각 PC들은 Star형으로 연결되어 있지만 전기의 흐름은 Bus형으로 움직임(미디어에 데이터가 전송 중이면 다른 PC가 전송시키지 못함)
-   2개 이상의 PC가 동시에 전송하면 Backoff 알고리즘으로 둘 다 되돌아가고 조금이라도 더 빠르게 전송한 PC 가 전송함(=Carrier Sense)
-   불가피하게 충돌이 발생하면 Jamming Signal을 해당 네트워크 내의 다른 PC들에게 보냄(=Collision Detection)
-   충돌 방지를 위해 내가 송신 중이면 수신 핀은 유휴상태여야 하고 수신 PC는 수신하기 위해 송신 핀을 유휴상태로 만듦. 반만 사용하기 때문에 전송속도는 저하됨(=Half Duflex)
-   이를 보완하기 위해 송수신지를 연결하는 전용 채널을 만들어 전송, 전기 흐름을 새로 만들고 제어하기 위해 반도체가 필요함
-   반도체가 있는 장비를 Switch 장비, 없는 장비를 Hub(Switch는 전기 흐름 제어가 가능(1대1 회로를 만들어 줄수 있음, Hub는 불가능) -> 연결성 확보에 흐름 제어까지 통제하기 위해 Switch 사용(데이터 처리량 극대화)
-   흐름 제어가 가능한 Switch를 사용하면 애초에 충돌이 발생할 환경 자체를 만들지 않음, 새로운 채널을 만들어통신하므로 동시에 송수신이 가능(=Full Duflex)

#### 2) 3-4-5 Rule(=5-4-3 Rule)

-   LAN의 범위인 CSMA/CD에는 3-4-5 Rule이 존재
-   4개의 SW, 5개의 채널, PC는 5개 중 최대 3개의 채널에만 연결 가능(최대 500M 범위 내에서 PC가 연결된 형태가 됨)
-   5 : 하나의 네트워크는 최대 5개의 segment를 가짐
-   4 : 4개의 repeater로 segment가 나누어져 있음
-   3 : 이중 3개의 segment에만 장비를 설치할 수 있음
-   \=> 물리적으로 500M 이상의 범위는 LAN과 LAN을 연결하는 장비가 필요함(WAN/LAN 둘 다 가능은 하지만, WAN 사용)

![image](/assets/img/posts/Network/Network02_03.png)

### 3\. WAN

#### 1) LAN to LAN

-   LAN과 LAN을 계속 결합하면 트래픽이 꼬임
-   LAN과 LAN을 라우터를 이용해 분리시켜 다른 네트워크로 만듦(라우터는 두 네트워크를 연결하는 중계기가 됨)
-   LAN을 구성하는 UTP, RJ45, CSMA/CD 등의 구성 요소들이 필요함(라우터도 RJ45 커넥터 필요함)
-   \=> 하나의 LAN의 크기를 키워가는 것이 아닌 여러 개의 LAN을 연결시키는 셈

#### 2) WAN

-   장거리용에 맞는 시리얼 케이블, 라우터, WIC 포트 등의 장비 필요
-   HDLC, Frame-Relay, PPTP, ATM 등의 프로토콜
-   초장거리 케이블 연결을 위해 매설을 할 수 없기 때문에 ISP 업체를 선정해서 해당 ISP 업체의 기지국을 통해 연결함(ex. 서울지사에서는 kt의 서울 기지국과 연결, 부산기지국에서는 kt의 부산 기지국과 연결, 그 서울-부산은 kt 관할)(=전용선, 임대선)
-   하나의 구리선 케이블로 일정 대역폭을 나눠 주파수를 다르게 해서 채널에 대한 데이터를 전송함(전용선의 얼마만큼의 대역폭 사용에 따라 가격이 달라짐)
-   ISP 업체(ex. LG-KT)끼리도 IX 업체를 통해 연결함, IX 업체(ex. 한국-미국)끼리 연결로 전세계 인터넷 연결이 가능