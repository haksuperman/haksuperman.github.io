---
title: GNS3 2.2.43 설치, 각 장비 별 ip 부여 실습      # 글 제목
date: 2024-01-01 19:19:00 +0900 # 작성 시간
categories: [ON-PREMISE, NETWORK]        # [대분류, 소분류]
tags: [network, gns3]     # 태그 (반드시 소문자로 시작 권장)
---

### 서브넷팅 복습

10.0.00/16의 대역을 아래 토폴로지에 맞게 서브넷팅 하여라.

![image](/assets/img/posts/Network/Network08_01.png)
서브넷팅 복습 토폴로지

---

![image](/assets/img/posts/Network/Network08_02.png)


\* 끝단 장비인 PCs들의 게이트웨이(디폴트 게이트웨이)는 일반적으로 네트워크의 첫 주소나 마지막 주소를 사용함

-   라우터 네트워크 구간은 각 장비 인터페이스의 IP만 있으면 되니까 2개씩만 주면 됨(5000, 4000, 6000개의 호스트를 기준으로 나눈 서브넷을 그냥 주기에는 낭비가 심함)
-   \-> 2개의 호스트는 /30이 적당(/31는 불가능, 네트워크 주소와 브로드캐스트 주소 빼야 하니까 안됨)
-   \-> /19로 서브넷팅 한 네트워크 하나를 다시 /30으로 서브넷팅 하면 됨

10.0.0.0/19

10.0.32.0/19

10.0.64.0/19

는 액세스 스위치 계층 애들 주고,

10.0.96.0/19 네트워크를 다시 서브넷팅

10.0.0.0/19

10.0.32.0/19

10.0.64.0/19

10.0.96.0/19

10.0.128.0/19

10.0.160.0/19

10.0.192.0/19

10.0.224.0/19

10.0.96.0/30

10.0.96.4/30

10.0.96.8/30

10.0.96.12/30

…

---

![image](/assets/img/posts/Network/Network08_03.png)

클라우드 환경은 실제 로컬 OS 위에 VMware와 같은 전문 가상화 소프트웨어(실제 VMware를 쓰진 않음) 위에 가상 PC들을 올리고 제공함

---

### GNS3 2.2.43 버전 설치

default 값으로 설치

Tools - TightVNC / Solar-PuTTY 해제

(+ Solawinz 설치 안함)

---

### 초기설정

![image](/assets/img/posts/Network/Network08_04.png)

![image](/assets/img/posts/Network/Network08_05.png)
Enable local server 체크 확인, Remote server 탭에 아무것도 없는 것 확인

![image](/assets/img/posts/Network/Network08_06.png)
경로지정


![image](/assets/img/posts/Network/Network08_07.png)
이미지 파일 경로 지정

![image](/assets/img/posts/Network/Network08_08.png)
경로 수정 -> GNS3에 MobaXterm 프로그램 연동

MobaXterm

[https://mobaxterm.mobatek.net/download-home-edition.html](https://mobaxterm.mobatek.net/download-home-edition.html)

installer 버전으로 다운 후 기본 default 값으로 설치

![image](/assets/img/posts/Network/Network08_09.png)
지정했던 폴더에 복사(시스코 장비의 OS들)

![image](/assets/img/posts/Network/Network08_10.png)
IOS 이미지를 이용해 장비 등록

![image](/assets/img/posts/Network/Network08_11.png)
라우터, 스위치 등록

---

### 각 장비 콘솔 접속

![image](/assets/img/posts/Network/Network08_12.png)

각 장비에 접속해서 네트워크 구성을 해보자

![image](/assets/img/posts/Network/Network08_13.png)

각 스위치에서 fe 0/0, fe 0/1은 라우팅 목적의 모듈을 꽂아 놔서 안됨

![image](/assets/img/posts/Network/Network08_14.png)

장비 켜고 우클릭 콘솔(or 더블클릭)로 MobaXterm 프로그램 연동 했던 것 실행됨

\-> 콘솔 접속한 것

![image](/assets/img/posts/Network/Network08_15.png)

첫 장비 켜고 콘솔 접속했을 때

![image](/assets/img/posts/Network/Network08_16.png)

콘솔 접속 완료된 상태

---

### 라우터 기본 명령

IOS : 시스코 대부분의 라우터와 스위치에 사용되고 있는 소프트웨어

\* CLI 환경으로 이루어져 있음

3가지의 실행 모드

1) \> : User Exec, 정보 확인(제한된 정보들만)

2) # : Privileged Mode(특권 모드), 정보 확인(모든 정보들), Super 관리자(관리자 모드라고 생각하면 됨)

3) (config)# : Global Configuration Mode, 라우터 자체에 영향을 미치는 설정

4) (config-if)# : 인터페이스 모드, 해당 인터페이스에만 영향(인터페이스 모드로 들어가면 -if, 라우터 모드로 들어가면 -router...등등)

\=> User Exec부터 차례대로 들어가야 함

기본 조작 명령어

1) \>(User Exec 모드) -> #(Privileged 모드) : enable

2) #(Privileged 모드) -> \>(User Exec 모드) : disable

3) #(Privileged 모드) -> (config)#(Global Configuration Mode 모드) : configure terminal

4) (config)#(Global Configure Mode 모드) -> (config-if)#(Interface 모드) : interface serial 0/0

거꾸로 올라올 때( (config-if)#(Interface 모드) -> (config)#(Global Configure Mode 모드) ) : exit

한번에 #(Privileged 모드)로 올라갈 때 : end

\* 핑이나 traceroute 명령 시 중단 명령어 : ctrl+shift+6

![image](/assets/img/posts/Network/Network08_17.png)

\* 각 모드 별 ?(물음표)로 사용 가능한 명령어 확인 가능

![image](/assets/img/posts/Network/Network08_18.png)

물음표 이용 시 대문자로 출력해주는 것은 형식을 의미(이런 형식으로 써라)

​

\* 명령어 입력 도중 ?(물음표)를 입력하면 사용가능한 명령어들 출력 되어 확인 가능

ex) R1#conf {?}

R1#configure

\* 명령어 입력 도중 TAB으로 자동완성 가능(하나의 경우만 나올 때 가능)

ex) R1#conf {TAB} -> configure

( R1#con {TAB} -> #configure connect 두 가지 경우가 있어 자동완성 안됨)

![image](/assets/img/posts/Network/Network08_19.png)

\[\] 대괄호 사이는 기본값, 그냥 엔터치면 이거 쓰겠다

![image](/assets/img/posts/Network/Network08_20.png)

ip를 넣고 해당 인터페이스를 활성화 시켜야 함, 기본적으로는 비활성화 상태

(no shutdown 명령어로)

![image](/assets/img/posts/Network/Network08_21.png)

administratively down : 관리자가 의도적으로 다운 시켜 놓은 느낌

line protocol is down : 해당 라인 L2(2계층) 연결성 다운

![image](/assets/img/posts/Network/Network08_22.png)

반대쪽에서 비활성화 상태이기 때문에 다시 다운됨(난 보내주는데 상대방이 거부)

![image](/assets/img/posts/Network/Network08_23.png)

해당 장비의 모든 인터페이스 IP 정보 확인

(Status, Protocol 모두 up 상태여야 통신 가능)

![image](/assets/img/posts/Network/Network08_24.png)

ping 확인 시 패킷 5개 모두 성공

\- ! : 성공

\- U / . : 실패

---

![image](/assets/img/posts/Network/Network08_25.png)

R1

se 0/0 : 10.0.0.1/24

R2

se 0/0 : 10.0.0.2/24

fa 0/0 : 10.0.2.1/24

PC1

10.0.2.2/24

의 ip 부여 후

PC1에서 R2 fa 0/0(게이트웨이)로 통신되도록 하기

![image](/assets/img/posts/Network/Network08_26.png)

스위치 장비인 ESW1는 IP 필요는 없지만, 인터페이스 활성화는 해주어야 함

![image](/assets/img/posts/Network/Network08_27.png)

동일 네트워크기 때문에 별 다른 기술 없이 통신 가능


```
**R1**

conf t

hostname R1

int s 0/0

ip add 10.0.0.1 255.255.255.0

no shut

**R2**

conf t

hostname R2

int s 0/0

ip add 10.0.0.2 255.255.255.0

no shut

exit

int fa 0/0

ip add 10.0.2.1 255.255.255.0

no shut

**ESW1**

conf t

int fa 1/0

shut

no shut

exit

int fa 1/1

shut

no shut

**PC1**

ip 10.0.2.2/24 10.0.2.1
```

---

![image](/assets/img/posts/Network/Network08_28.png)

192.168.0.0/24 대역을 토폴로지를 보고 각 네트워크 별 필요한 호스트 개수에 맞게 서브넷팅하여 네트워크를 구성하여라

(R1-R2, R2-PC1 구간 제외)

2/2/2/2

\-> 8개의 호스트 필요

2의 4제곱을 호스트 비트로 사용

192.168.0.0 ~ .15/28 (240)

192.168.0.16 ~ .31/28

192.168.0.32 ~ .47/28

192.168.0.48 ~ .63/28

```
**R1**  
conf t  
int s 0/1  
ip add 192.168.0.1 255.255.255.240  
no shut  
exit  
int s 0/2  
ip add 192.168.0.17 255.255.255.240  
no shut  
  
**R3**  
conf t  
int s 0/1  
ip add 192.168.0.2 255.255.255.240  
no shut  
exit  
int fa 0/0  
ip add 192.168.0.33 255.255.255.240  
no shut  
  
**R4**  
conf t  
int se 0/2  
ip add 192.168.0.18 255.255.255.240  
no shut  
exit  
int fa 1/0  
ip add 192.168.0.49 255.255.255.240  
no shut

  
**ESW2**  
conf t  
int fa 1/0  
shut  
no shut  
exit  
int fa 1/1  
shut  
no shut  
  
**ESW3**  
conf t  
int fa 1/0  
shut  
no shut  
exit  
int fa 1/1  
shut  
no shut  
  
**PC2**  
ip 192.168.0.34 /28 192.168.0.33  
  
**PC3**  
ip 192.168.0.50 /28 192.168.0.49
```