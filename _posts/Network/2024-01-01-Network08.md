---
title: GNS3 2.2.43 설치, 각 장비 별 ip 부여 실습      # 글 제목
date: 2024-01-01 19:19:00 +0900 # 작성 시간
categories: [ON-PREMISE, NETWORK]        # [대분류, 소분류]
tags: [network, gns3]     # 태그 (반드시 소문자로 시작 권장)
---

### 서브넷팅 복습

10.0.00/16의 대역을 아래 토폴로지에 맞게 서브넷팅 하여라.

![image](https://blog.kakaocdn.net/dna/lcaV9/btsCSBWvt8d/AAAAAAAAAAAAAAAAAAAAADzJWZ837VUctY7nlF1PeNs2Z3bOOb-BQT18ZybpmRPq/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=bqTZ02yqqA91wm%2B46jru%2FPSnCIk%3D)
서브넷팅 복습 토폴로지

---

![image](https://blog.kakaocdn.net/dna/YNvoo/btsCOBXe2hX/AAAAAAAAAAAAAAAAAAAAANbxLQXA8CVqLfGCVkbcQTEbnK-riAhILv3lDsW_qlSy/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=iBmO9GsS3eTPUxcNxmPI0DLil%2BE%3D)


\* 끝단 장비인 PCs들의 게이트웨이(디폴트 게이트웨이)는 일반적으로 네트워크의 첫 주소나 마지막 주소를 사용함

-   라우터 네트워크 구간은 각 장비 인터페이스의 IP만 있으면 되니까 2개씩만 주면 됨(5000, 4000, 6000개의 호스트를 기준으로 나눈 서브넷을 그냥 주기에는 낭비가 심함)
-   \-> 2개의 호스트는 /30이 적당(/31는 불가능, 네트워크 주소와 브로드캐스트 주소 빼야 하니까 안됨)
-   \-> /19로 서브넷팅 한 네트워크 하나를 다시 /30으로 서브넷팅 하면 됨

10.0.0.0/19

10.0.32.0/19

10.0.64.0/19

는 액세스 스위치 계층 애들 주고,

10.0.96.0/19 네트워크를 다시 서브넷팅

10.0.0.0/19

10.0.32.0/19

10.0.64.0/19

10.0.96.0/19

10.0.128.0/19

10.0.160.0/19

10.0.192.0/19

10.0.224.0/19

10.0.96.0/30

10.0.96.4/30

10.0.96.8/30

10.0.96.12/30

…

---

![image](https://blog.kakaocdn.net/dna/b05lEN/btsCQrGQPqR/AAAAAAAAAAAAAAAAAAAAAJi9cFuJ6-SVtFJoohzn7Nr07RfuC3N4iW6e7hWh-hs4/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=P4TJKxevMFaLMnW2RjZGK0jTCxg%3D)

클라우드 환경은 실제 로컬 OS 위에 VMware와 같은 전문 가상화 소프트웨어(실제 VMware를 쓰진 않음) 위에 가상 PC들을 올리고 제공함

---

### GNS3 2.2.43 버전 설치

default 값으로 설치

Tools - TightVNC / Solar-PuTTY 해제

(+ Solawinz 설치 안함)

---

### 초기설정

![image](https://blog.kakaocdn.net/dna/cNy0y2/btsCQssd12a/AAAAAAAAAAAAAAAAAAAAAJX-84lIxlgdkyT-BR2DobutGaGf54hz7lYH6jmG8L5R/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=YJHbRD8mdR%2BdbrekhSLeXWqS4bE%3D)

![image](https://blog.kakaocdn.net/dna/V4dLH/btsCUyycOpd/AAAAAAAAAAAAAAAAAAAAAJJincKKBphkEbkNNip7P_kPUeTQyv8og45FuvRYeli-/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=k1vr0poyhps2OC8mPxcSfLRu%2Bng%3D)
Enable local server 체크 확인, Remote server 탭에 아무것도 없는 것 확인

![image](https://blog.kakaocdn.net/dna/CvqM5/btsCTVG3RAj/AAAAAAAAAAAAAAAAAAAAANpQy_KbZjBBjbnQIPbdoiAgyO0B-k-ve3bQbQ-wl25p/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=eD4stiVrAcIsz2O4hkAcP5RwuHs%3D)
경로지정


![image](https://blog.kakaocdn.net/dna/uqmyG/btsCRhxcifu/AAAAAAAAAAAAAAAAAAAAAPfcbinX9gOMDPfUuRfhpTqVtQ97PejbBylnFq_uJml8/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=czT0fKUYNlJSOrSYD3LgdH8ZxCQ%3D)
이미지 파일 경로 지정

![image](https://blog.kakaocdn.net/dna/MGbKb/btsCUAJAUV5/AAAAAAAAAAAAAAAAAAAAADhBDlv8zyhLAmzCeXAm_0AG1KA0Q11RG24BiEd-wi92/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=mSqaaHgxqTHQZRLEp1x5Rdm%2F%2BdQ%3D)
경로 수정 -> GNS3에 MobaXterm 프로그램 연동

MobaXterm

[https://mobaxterm.mobatek.net/download-home-edition.html](https://mobaxterm.mobatek.net/download-home-edition.html)

installer 버전으로 다운 후 기본 default 값으로 설치

![image](https://blog.kakaocdn.net/dna/sFJb8/btsCTw1PK26/AAAAAAAAAAAAAAAAAAAAAHeaP3bI7Qh2i_nizNeOCdgL6_yG0s66WQGCt8oNUZWg/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=ZLrXspuFZIhm6vxIqEPke9y1uhI%3D)
지정했던 폴더에 복사(시스코 장비의 OS들)

![image](https://blog.kakaocdn.net/dna/lwF3U/btsCTUOVSev/AAAAAAAAAAAAAAAAAAAAALZpYpksyxUcAUgew3hbhdTiyRAYVo8ZbXqzpfLAWRUy/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=um8zN5G97SuDfahQlOsX%2Bx0F%2BnQ%3D)
IOS 이미지를 이용해 장비 등록

![image](https://blog.kakaocdn.net/dna/bYljNt/btsCP21ujGH/AAAAAAAAAAAAAAAAAAAAAKv9yeETkvALZcdYdk6tbKNFLZbzSkQcc1k4hSdbVjNp/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=tOwXUJQbPpjKBT5l3TBraaC4SsY%3D)
라우터, 스위치 등록

---

### 각 장비 콘솔 접속

![image](https://blog.kakaocdn.net/dna/9XwJN/btsCQ5cCheh/AAAAAAAAAAAAAAAAAAAAANxiVdneQaXgG7pGcPoeCbpntM6UV8HPCh3YXy3Tzqd7/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=AP%2FrBucLUH%2BT%2BA8p5X8YvqxrmQE%3D)

각 장비에 접속해서 네트워크 구성을 해보자

![image](https://blog.kakaocdn.net/dna/wNtVM/btsC0apNJSq/AAAAAAAAAAAAAAAAAAAAAE5f3uXdnpZj3ylKlqhamu0fQTctRQEqW_LrEkFfqOZ_/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=zVbCpuuw%2FDciMfX2BYD5r9%2FOD54%3D)

각 스위치에서 fe 0/0, fe 0/1은 라우팅 목적의 모듈을 꽂아 놔서 안됨

![image](https://blog.kakaocdn.net/dna/uiXuP/btsCZ4pAomn/AAAAAAAAAAAAAAAAAAAAAGuXv-IbZKROPd3y7XLw2AaEGo0iViicLW1_kzTqhRxL/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=HnHYRulsU5Hne9xTgs%2BBPsTUDo4%3D)

장비 켜고 우클릭 콘솔(or 더블클릭)로 MobaXterm 프로그램 연동 했던 것 실행됨

\-> 콘솔 접속한 것

![image](https://blog.kakaocdn.net/dna/VEiim/btsCOAquETS/AAAAAAAAAAAAAAAAAAAAALC8ZTusvKeH_DzYgVm1goclmEcxfPZVAHyMdoNHjYjH/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=xqdEl51LUAwxmOxmZtjabRvBVD0%3D)

첫 장비 켜고 콘솔 접속했을 때

![image](https://blog.kakaocdn.net/dna/b8WXNE/btsCTAJOd8F/AAAAAAAAAAAAAAAAAAAAAAW_07MXoOFf7JrmJnRofUdHqGIdCiQm0EH3UILWywX_/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=Vnp042G7rh22sXHsn44pWgoop6E%3D)

콘솔 접속 완료된 상태

---

### 라우터 기본 명령

IOS : 시스코 대부분의 라우터와 스위치에 사용되고 있는 소프트웨어

\* CLI 환경으로 이루어져 있음

3가지의 실행 모드

1) \> : User Exec, 정보 확인(제한된 정보들만)

2) # : Privileged Mode(특권 모드), 정보 확인(모든 정보들), Super 관리자(관리자 모드라고 생각하면 됨)

3) (config)# : Global Configuration Mode, 라우터 자체에 영향을 미치는 설정

4) (config-if)# : 인터페이스 모드, 해당 인터페이스에만 영향(인터페이스 모드로 들어가면 -if, 라우터 모드로 들어가면 -router...등등)

\=> User Exec부터 차례대로 들어가야 함

기본 조작 명령어

1) \>(User Exec 모드) -> #(Privileged 모드) : enable

2) #(Privileged 모드) -> \>(User Exec 모드) : disable

3) #(Privileged 모드) -> (config)#(Global Configuration Mode 모드) : configure terminal

4) (config)#(Global Configure Mode 모드) -> (config-if)#(Interface 모드) : interface serial 0/0

거꾸로 올라올 때( (config-if)#(Interface 모드) -> (config)#(Global Configure Mode 모드) ) : exit

한번에 #(Privileged 모드)로 올라갈 때 : end

\* 핑이나 traceroute 명령 시 중단 명령어 : ctrl+shift+6

![image](https://blog.kakaocdn.net/dna/McYmS/btsCTAC3BdS/AAAAAAAAAAAAAAAAAAAAAJ-8v_W_WiAZpoLwsd7ggZDVjPOaL5-1b4sw2e-_W0h9/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=NCZWpKqH2WX23znZtrqDMbmfv3E%3D)

\* 각 모드 별 ?(물음표)로 사용 가능한 명령어 확인 가능

![image](https://blog.kakaocdn.net/dna/bEey1A/btsCQ12n4KM/AAAAAAAAAAAAAAAAAAAAAJe_Oj8RlxuPUIOMsI10rXuFSPBBeGvg7-mmnbxrlXXX/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=z7k1DL1mv7Ymbmd7IfqSe0xbtOk%3D)

물음표 이용 시 대문자로 출력해주는 것은 형식을 의미(이런 형식으로 써라)

​

\* 명령어 입력 도중 ?(물음표)를 입력하면 사용가능한 명령어들 출력 되어 확인 가능

ex) R1#conf {?}

R1#configure

\* 명령어 입력 도중 TAB으로 자동완성 가능(하나의 경우만 나올 때 가능)

ex) R1#conf {TAB} -> configure

( R1#con {TAB} -> #configure connect 두 가지 경우가 있어 자동완성 안됨)

![image](https://blog.kakaocdn.net/dna/RwMNw/btsCZi9kP6i/AAAAAAAAAAAAAAAAAAAAAPbNls2usQJxh_F8WAjnrktm07DuD3WYfAbwOu9zJFya/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=RMNeAQ%2FIccVdyPvwkDUMAwIYB5k%3D)

\[\] 대괄호 사이는 기본값, 그냥 엔터치면 이거 쓰겠다

![image](https://blog.kakaocdn.net/dna/EBXiH/btsCOENlRxF/AAAAAAAAAAAAAAAAAAAAAL4KUMPGmLMyU1LnGkPRajoYMfTSiafQKfBzet5MStre/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=bD92Vfd438sCMyDWrluOkHuCFZE%3D)

ip를 넣고 해당 인터페이스를 활성화 시켜야 함, 기본적으로는 비활성화 상태

(no shutdown 명령어로)

![image](https://blog.kakaocdn.net/dna/rTa2o/btsCTw8zZEm/AAAAAAAAAAAAAAAAAAAAANelbi-4M5WJXo4rAo9Ux6uaLh_9TmYDd__cTtll7IjU/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=6b794uC1tbAkRIyWAPBGDjzZXTM%3D)

administratively down : 관리자가 의도적으로 다운 시켜 놓은 느낌

line protocol is down : 해당 라인 L2(2계층) 연결성 다운

![image](https://blog.kakaocdn.net/dna/dSYcNl/btsCP3szVIK/AAAAAAAAAAAAAAAAAAAAAKKL81Owu6aXhMvjsN8lwn12VM6e1EPvYdSr3HE9gqqz/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=cvVHXWK4U%2FF4eQt6j2OHZUH3NpI%3D)

반대쪽에서 비활성화 상태이기 때문에 다시 다운됨(난 보내주는데 상대방이 거부)

![image](https://blog.kakaocdn.net/dna/cl51HS/btsCTBhERgo/AAAAAAAAAAAAAAAAAAAAAMmMtRUQITGxMZLsXtEZ0TKtxLfUxu_5FY-bq7S4AfVW/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=P8IFsNKe90CjRqsNnFtM5nwHA88%3D)

해당 장비의 모든 인터페이스 IP 정보 확인

(Status, Protocol 모두 up 상태여야 통신 가능)

![image](https://blog.kakaocdn.net/dna/kyluP/btsCRgE5JTm/AAAAAAAAAAAAAAAAAAAAAABJNhhRNHUI8QG68xDKZIn8t7cUWJuewxO2W3YmlPYw/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=v%2FIMgXD1S%2Bmw9Z9Nn0UuzmcTBo0%3D)

ping 확인 시 패킷 5개 모두 성공

\- ! : 성공

\- U / . : 실패

---

![image](https://blog.kakaocdn.net/dna/qQZ50/btsCZ610ei5/AAAAAAAAAAAAAAAAAAAAAD5N6hHtuxK4M5_8pBuv-CDQexq5xHoxUsWgT8SdZqTs/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=W2cf%2FcPAo9ZjX6ikSCZP7XUMSuM%3D)

R1

se 0/0 : 10.0.0.1/24

R2

se 0/0 : 10.0.0.2/24

fa 0/0 : 10.0.2.1/24

PC1

10.0.2.2/24

의 ip 부여 후

PC1에서 R2 fa 0/0(게이트웨이)로 통신되도록 하기

![image](https://blog.kakaocdn.net/dna/bz9VKL/btsCZ7T82X4/AAAAAAAAAAAAAAAAAAAAAHXA81te3J1JovL1iYcigK20NBjZlEbJ40Occ_BYO6xB/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=NY3GPKPIXNyeZmiO%2BnHExGuoPh4%3D)

스위치 장비인 ESW1는 IP 필요는 없지만, 인터페이스 활성화는 해주어야 함

![image](https://blog.kakaocdn.net/dna/dm0VHz/btsCZhbwccd/AAAAAAAAAAAAAAAAAAAAAC04o4i6gnebwlwZl_SKyidYDC_WfncIyG_joM--HoEk/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=3ynjqeER%2B1TSxc79kxP9pCGom88%3D)

동일 네트워크기 때문에 별 다른 기술 없이 통신 가능


```
**R1**

conf t

hostname R1

int s 0/0

ip add 10.0.0.1 255.255.255.0

no shut

**R2**

conf t

hostname R2

int s 0/0

ip add 10.0.0.2 255.255.255.0

no shut

exit

int fa 0/0

ip add 10.0.2.1 255.255.255.0

no shut

**ESW1**

conf t

int fa 1/0

shut

no shut

exit

int fa 1/1

shut

no shut

**PC1**

ip 10.0.2.2/24 10.0.2.1
```

---

![image](https://blog.kakaocdn.net/dna/ZS7SG/btsCTUVHSgq/AAAAAAAAAAAAAAAAAAAAAEuDmbTkDk_dW7lerH15eQprkBQRrz1r79jlMDau4sxj/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=MXY2gqmvLRKkvmkfFc%2BQJUJw5ds%3D)

192.168.0.0/24 대역을 토폴로지를 보고 각 네트워크 별 필요한 호스트 개수에 맞게 서브넷팅하여 네트워크를 구성하여라

(R1-R2, R2-PC1 구간 제외)

2/2/2/2

\-> 8개의 호스트 필요

2의 4제곱을 호스트 비트로 사용

192.168.0.0 ~ .15/28 (240)

192.168.0.16 ~ .31/28

192.168.0.32 ~ .47/28

192.168.0.48 ~ .63/28

```
**R1**  
conf t  
int s 0/1  
ip add 192.168.0.1 255.255.255.240  
no shut  
exit  
int s 0/2  
ip add 192.168.0.17 255.255.255.240  
no shut  
  
**R3**  
conf t  
int s 0/1  
ip add 192.168.0.2 255.255.255.240  
no shut  
exit  
int fa 0/0  
ip add 192.168.0.33 255.255.255.240  
no shut  
  
**R4**  
conf t  
int se 0/2  
ip add 192.168.0.18 255.255.255.240  
no shut  
exit  
int fa 1/0  
ip add 192.168.0.49 255.255.255.240  
no shut

  
**ESW2**  
conf t  
int fa 1/0  
shut  
no shut  
exit  
int fa 1/1  
shut  
no shut  
  
**ESW3**  
conf t  
int fa 1/0  
shut  
no shut  
exit  
int fa 1/1  
shut  
no shut  
  
**PC2**  
ip 192.168.0.34 /28 192.168.0.33  
  
**PC3**  
ip 192.168.0.50 /28 192.168.0.49
```