---
title: Default Routing      # 글 제목
date: 2024-01-01 20:19:00 +0900 # 작성 시간
categories: [ON-PREMISE, NETWORK]        # [대분류, 소분류]
tags: [network, routing, default routing]     # 태그 (반드시 소문자로 시작 권장)
---
SDN(Software Defined Network)

\- 라우팅과 같은 반복적인 작업을 해야 하는 것을 대신해 줌(네트워크의 지휘자 역할)

\- 소프트웨어 프로그래밍을 통해 네트워크 경로 설정과 제어 및 복잡한 운용관리를 편리하게 처리할 수 있는 차세대 네트워킹 기술

\* 프로세스(Process) : 현재 메모리에 상주해 실행 중인 프로그램

라우터 장비는 라우팅 프로세서가 라우팅을 위해 라우터 메모리에 상주시키고, 1, 2, 3계층 통신으로 라우팅을 하는데, 이 과정도 생략하고 싶어져 3계층 정보, 2계층 정보를 복사해 1계층에서 바로 전송하도록 함

(control plain / data plain)

​

---

#### Static Routing 복습

![image](https://blog.kakaocdn.net/dna/cQjGxY/btsCTwHwJ6y/AAAAAAAAAAAAAAAAAAAAAGIvrYCtz3Y-_FzDug3bvzvGvSDxLxAETduG56uaU-2J/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=Tt5xK%2ByRbjvwW5DjTXwFPlxV6tY%3D)
![image](https://blog.kakaocdn.net/dna/bOQjry/btsCVJfeaPh/AAAAAAAAAAAAAAAAAAAAAHbKIcXDWtll4xGCQgq2-EsEjw6rkNJaqLQAUNV75zia/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=v96kh5ocXjM8ka%2FRs083T7t5dqM%3D)

동일 네트워크(게이트웨이)와 connected 라인 핑 되는지 확인

\-> PC1은 10.0.12.0/24 대역으로 통신할 때 내가 모르는 네트워크이기 때문에 게이트웨이로 보내고, 게이트웨이인 R1에서 돌아오는 PC1의 대역을 라우팅 테이블에서 확인(connected 라인) 후 응답해줌

​

\* 게이트웨이(Gateway) : 내가 알지 못하는 네트워크(내 대역 이외 네트워크)에는 게이트웨이로 감(Default Gateway)

​

PC1(10.0.10.2/24) -> R2(10.0.12.2/24)

![image](https://blog.kakaocdn.net/dna/Sk8vI/btsCQoi4YFc/AAAAAAAAAAAAAAAAAAAAAF5jz36d0HbUXhaFWVATYwoZaqXoBSTVEslJs3FKW_Jk/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=%2FChCaMWkU2pUu5r%2FPgnAXiN2ri8%3D)

R2로는 통신 안됨

\-> R2(10.0.12.2)로 갔다가 PC1의 대역 라우팅 정보가 없어 돌아오지 못함(timeout)

![image](https://blog.kakaocdn.net/dna/csqGYx/btsCX6HYjxj/AAAAAAAAAAAAAAAAAAAAADmurL0sF8LfcJYcPPEc-cqeZL8Xe6sofCDUT9C2uET6/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=9MtqEcvaYcWMYwog8F4lzuVK0S0%3D)

R2에 PC1의 네트워크 대역(10.0.10.0/24)의 경로를 알려줌

PC1(10.0.10.2/24) -> R3(10.0.23.3/24)

![image](https://blog.kakaocdn.net/dna/beISJv/btsCP3TCC6J/AAAAAAAAAAAAAAAAAAAAAF5PnDiUG8YTWeE3ubSw1wms1VHGoTGjBHg2VBnK1uU6/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=dAgM2qc1nJdR4dbPz%2F3Tzbm8etc%3D)
![image](https://blog.kakaocdn.net/dna/O0BP0/btsCZ6ubzQI/AAAAAAAAAAAAAAAAAAAAAA761qm7t_PrlF1IVyTtCiEKdJ9aPPwpyzMEuRveq2bn/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=ZGCstFeH%2FLaXzFvxJMcUraD5IeY%3D)
![image](https://blog.kakaocdn.net/dna/bI3nfk/btsCP4kIQZy/AAAAAAAAAAAAAAAAAAAAAPerNW2wyiDFetQU3xLe-_mmZJ4ljKIhFR18qAQrBmqk/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=mSEp%2Fwx6knW%2BLxyFBtUqO9CS1MI%3D)
![image](https://blog.kakaocdn.net/dna/bep8hR/btsCP3sARe5/AAAAAAAAAAAAAAAAAAAAAGsSC2pCR95NIPHaepz8KWaL7Ls5C19XEZO4E-Mk4u9c/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=jhyXAzt6gQU1NmQfTIlPHYRA0HY%3D)

PC1(10.0.10.2/24) -> R4(10.0.23.4/24)

![image](https://blog.kakaocdn.net/dna/SCnQZ/btsCN5xy4XN/AAAAAAAAAAAAAAAAAAAAAJZFzHeUOddYpGCxB8QAGmXZaPgO5qyMA8ato4HnaKVJ/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=9ZMhTXL3H04PzmIj2WrPzLXVEz0%3D)

불가

\-> 가는 길은 위에 실습에서 진행함(10.0.34.3/24로 보낼 때)(지금 10.0.45.0/24 대역으로 보내는 것이 아니기 때문에 가는 길은 문제 없음),

돌아오는 경로에 문제. R4에 PC1의 네트워크 대역(10.0.10.0/24) 라우팅 정보가 없음

![image](https://blog.kakaocdn.net/dna/T1T6X/btsCOE0RIa4/AAAAAAAAAAAAAAAAAAAAAJe4m6A1fOLsXzxfvfK5nU-sz_Vfv6D8XlypdsBy6MR9/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=BTn4GgJbPDP3tmzpN9ZFFF591eY%3D)

![image](https://blog.kakaocdn.net/dna/bTq7Za/btsCX4pQqE8/AAAAAAAAAAAAAAAAAAAAAG4glPxM46Kz8TF6vq9fZnAr0oO-5cW7x5Lp5xoVWHPb/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=fxOaYt2zFMKuB92cjpNagrNaYwE%3D)

전 구간 통신 가능하도록 하기

![image](https://blog.kakaocdn.net/dna/d0Ku0X/btsCN4ZHcok/AAAAAAAAAAAAAAAAAAAAAGLzD1Suundfbuda7hF8qTDYYsyUZavjyQaJ0WhmnwkZ/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=olLH4PUaRzneB5kaaj%2BbPurl14w%3D)
![image](https://blog.kakaocdn.net/dna/bE157A/btsCRgyjiw8/AAAAAAAAAAAAAAAAAAAAAOHEz2SZbySYqUM4bGOEOu2eZ5qrr2Jfb7V4t0zHjELp/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=I2yKpNmJaE2n1KH61A0pMqsZ3xQ%3D)
![image](https://blog.kakaocdn.net/dna/bglbQE/btsCTuQv0ej/AAAAAAAAAAAAAAAAAAAAAHRvgp_2i6qLAuJwrGXO-Az33Zf3xRfRfIyZzH-yr2jz/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=n4RZVEa6WUYG33lpO4%2FmsBCkd7g%3D)
![image](https://blog.kakaocdn.net/dna/c1hCdd/btsCZjNXAGh/AAAAAAAAAAAAAAAAAAAAAMmkuNMmBGMnBPIQ_qnWPVzG0niFjyL2B9Z8OjKUYlLr/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=bwqJGIgJSCr8r%2BDgHcqSONuo8dQ%3D)
![image](https://blog.kakaocdn.net/dna/BynRM/btsCTU2tzXa/AAAAAAAAAAAAAAAAAAAAAJvRMaTymD1BAtC2_m3tu3LS6ChAohXmBsRyKU78oF6W/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=JXmY3zi3SQ7ZNNYToOsFcxGRFSk%3D)
![image](https://blog.kakaocdn.net/dna/bZxSuk/btsCOyGf9lK/AAAAAAAAAAAAAAAAAAAAADMrbBCeGRW7AKn0VWboe41iIEGyPjOOp1jQJvYzz_8k/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=3IdQ%2B1mKhAsJbjf0IADMwzPOzDE%3D)
![image](https://blog.kakaocdn.net/dna/ELTJG/btsCUB2Mid0/AAAAAAAAAAAAAAAAAAAAAKCB8a04cvaj7pZDCgSYSqbZfyIB3sN4R4sfrw3VvJoK/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=mf4PASMWVK2POJoJGT7KMezujVM%3D)
![image](https://blog.kakaocdn.net/dna/bLDmiu/btsCScWQhwU/AAAAAAAAAAAAAAAAAAAAAJBlCGJskJGZvwEMfd7OMVkY4rWJ4Zrln-y34SFMrfBE/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=P5XPjWc2nCeYacCMwhaq%2Bl9qDKw%3D)

---

### Default Routing

내부 네트워크의 라우터에서도 디폴트 게이트웨이처럼 모르는 네트워크(Unknwon Network)에 대해 모두 KT(ISP)로 보냄

(0.0.0.0 0.0.0.0)

\-> 라우팅 테이블의 우선순위가 가장 낮음, 내가 모르는 네트워크는 모두 여기로 보냄(가장 마지막 줄에 해당)

\= Static Default Routing

![image](https://blog.kakaocdn.net/dna/bjnmQE/btsCQocnooJ/AAAAAAAAAAAAAAAAAAAAALG-mdcit_Ucw4Vin4TBWYW6HXhP2hBuOBMH3VBUwMzA/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=nIF6ekrqCbNwjPneDhUdyUYoCq0%3D)

모든 네트워크를 의미하는 0.0.0.0/0의 Static Default 경로를 지정하려면 모든 네트워크를 가리킬 수 있는 방향이 하나여야 한다(stub network)

​

\* Stub Network

\- 하나의 네트워크에서 외부의 네트워크로 나가고 들어오는 경로가 오직 하나뿐인 경우

\- 즉, 외부에서 들어와 결국은 종료되는 네트워크를 말함(다른 경로가 없어 뒷문으로 나가지 못함)

\- 이러한 네트워크 구성에서는 Default Routing이 유용함(굳이 하나하나 라우팅해도 상관은 x)

\-- 경로를 찾지 못한 모든 네트워크들의 경로를 미리 정해 놓는 것

(내가 모르는 네트워크(Unknwon Network)들은 모두 여기로 가라)

\-- ex) **#(config) ip route 0.0.0.0 0.0.0.0 \[다음 홉의 ip\]**

**\-> 다음 홉의 ip를 쓰는 것이 제일 정확하다(R1 라우터의 게이트웨이까지는 동일 네트워크로 아니까 적어줄 수 있음)**

**\-> 내가 한 것처럼 R1의 인터페이스를 지정하면 R1과 R2가 Point-to-Point일 때는 상관없지만, Point-to-Multi면 다음 홉을 몰라서 어디로 나가야 통짜인지 모름**

![image](https://blog.kakaocdn.net/dna/lf9SY/btsCOzkPins/AAAAAAAAAAAAAAAAAAAAAK-sHgQj-c3xSLpLsWwW480OWHdZ_yI8Aab7b7ncidXA/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=qnm0IcuoB9Fl07siluBtBN0q8jc%3D)
![image](https://blog.kakaocdn.net/dna/Er007/btsCP3TCHLj/AAAAAAAAAAAAAAAAAAAAAJ-2Q17mFJziRke6B66cPBrreS2ONgRZ6npJ7GxtimPE/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=siTjIsVho%2Bz9r5hA16NNUuv4X3w%3D)

해당 다수의 네트워크를 0.0.0.0/0으로 하나로 묶음

![image](https://blog.kakaocdn.net/dna/lBdNy/btsCTU9eUj0/AAAAAAAAAAAAAAAAAAAAABxXox74h6Q-rfmX84di0lKQcIApU8UJneBzRws1v8SM/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=P7kmy9xZNmQ75hlvUioL9fRt4Us%3D)

해당 다수의 네트워크를 하나로 묶음(Static Default)

​

AWS와 같은 클라우드 환경에서도 여러 개의 사설 IP를 NAT로 변환해 나가는 공인 IP 대역들을 0.0.0.0/0으로 그냥 싸그리 묶어버림(나가는 방향이 하나여야 함)

![image](https://blog.kakaocdn.net/dna/dwv8Ci/btsCSdhbE0q/AAAAAAAAAAAAAAAAAAAAACm34wl_aeRdIeifLQr1hpM8mJEC9xV1nIJjEQ_q7hx_/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=lxLx9txn%2FXKqMr8FWfxUAxYZAdg%3D)

Static Default로 묶어서 전 구간 통신 가능하도록 설정

![image](https://blog.kakaocdn.net/dna/VxmiB/btsCX5hZV8p/AAAAAAAAAAAAAAAAAAAAAA-4m-O-jCekW_7lY2rMh7V2D3GQ7xPJHIy_XoTW8ev0/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=85HvudYXlADi3xZKfi%2B4FzkZHOM%3D)

이 개념으로 진행(묶은 곳 안은 KT(ISP) 관할로 생각)

![image](https://blog.kakaocdn.net/dna/dvHP4a/btsCZ77GXvi/AAAAAAAAAAAAAAAAAAAAAJsXFZ7XPXpCQKLJyskZv3xPm3rDSdme_tkqnTqtIs59/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=4tC8cclt6ZrNO6KQemDvzhbxRbo%3D)
![image](https://blog.kakaocdn.net/dna/Sz5rG/btsCUZoXpws/AAAAAAAAAAAAAAAAAAAAABv4AoA_P2anhHsghd4WlzGiuHDkZqmIzqMjR-dJNQJN/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=1DcSe03jPj2PvAX5l6ebETwuiXo%3D)
![image](https://blog.kakaocdn.net/dna/blHOR5/btsCN3zQeTm/AAAAAAAAAAAAAAAAAAAAAFX3cbielDTlaBclzYCn6nUqglJ3RSEUcSVF56QstOfi/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=Ql%2FKm5uvGIYZEQOC5We3rFbFk50%3D)
![image](https://blog.kakaocdn.net/dna/bukxCV/btsCUx7bt5l/AAAAAAAAAAAAAAAAAAAAAJd1UlwBgO_x1OmXSaBO8HlXRqfjbc_TdoP1-R9EleEU/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=rDQ7In5sojPVL8%2FSCCIPpXxvyh0%3D)

\=> 나가는 출구가 하나인 라우터(Static Default 설정이 가능한 라우터)는 어떤 ip가 와도 그 인터페이스 방향으로 밖에 못감(0.0.0.0/0 묶어서 그냥 너네 다 일로가)