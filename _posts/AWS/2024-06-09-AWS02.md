---
title: "[AWS] 기본 웹 서비스 인프라 구성(VPC, Security Group, Web, DB, NAT 등)"      # 글 제목
date: 2024-06-09 19:42:00 +0900 # 작성 시간
categories: [CLOUD, AWS]        # [대분류, 소분류]
tags: [cloud, aws, public cloud, vpc, security group, web, db, nat]     # 태그 (반드시 소문자로 시작 권장)
---
## 1\. VPC 생성

1. Create VPC
![image](https://blog.kakaocdn.net/dna/dtz9hQ/btsHR9HWU4W/AAAAAAAAAAAAAAAAAAAAAIix5NVB2V-xxS31Ty9jZKGfHppMsuwvJl16tynQsXeu/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=PJ4JX91hKZKPBeY5HrS04Rlg%2FPg%3D)

2. test VPC의 이름으로 10.0.0.0/16 CIDR를 가진 VPC 생성
![image](https://blog.kakaocdn.net/dna/DP80t/btsHSsgcmEt/AAAAAAAAAAAAAAAAAAAAAKJAD8iKohoG2eNhuOIdYmhNq6qB2A7sMIu3EdkiLh4e/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=kQIyDPr49R4jxYVtmGcsaRZ%2FYqU%3D)

3. 생성 완료
![image](https://blog.kakaocdn.net/dna/5GtrF/btsHR1i3tcz/AAAAAAAAAAAAAAAAAAAAAFiJNJiKp9PoObOOrUBxBJn0hSnAEZWDDXQjDCN7Bnld/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=v4GS2TxhQC%2Fd15yCpKAYXvhC4%2FQ%3D)

## 2\. IGW 생성 및 Attach
1. Create internet gateway
![image](https://blog.kakaocdn.net/dna/bHBEzh/btsHSTdeVvL/AAAAAAAAAAAAAAAAAAAAAFdve5zwbxdKvkdJ8DUfI1CgXK5Mep0vvJ7JTxv5XJyq/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=ZnIi3q8A%2FtlvA3mPB9nXoJaJDMA%3D)

2. testVPC-IGW 이름으로 생성
![image](https://blog.kakaocdn.net/dna/bFQutN/btsHTHwpeOm/AAAAAAAAAAAAAAAAAAAAAM3RbzGfwUT2E2NWm8Y3muNIpa4DR5_EWvJNz8kw1eYP/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=6xhsq%2BFYOaewaAaxhl88nu3dDSY%3D)

3. 생성된 IGW를 VPC에 Attach
![image](https://blog.kakaocdn.net/dna/UTS3b/btsHS1Ce0jO/AAAAAAAAAAAAAAAAAAAAAHaFJdnfNPnLNWl7Ay2qAMknDAffBJdtGgCv-GarxcEf/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=sdbVY63sz6jEWRWInj1MHZtHh4w%3D)

4. Attach 할 VPC 선택
![image](https://blog.kakaocdn.net/dna/Eqiza/btsHSwiqO1y/AAAAAAAAAAAAAAAAAAAAAFht6WtSCU4d0Ln5Nq44ml2sHY6DqMB5eDxas8bG9to-/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=z%2BP7oetfLF6EvnbrvCnOI2FwKkg%3D)

5. Attach 확인
![image](https://blog.kakaocdn.net/dna/cSoETb/btsHSEN6sfx/AAAAAAAAAAAAAAAAAAAAAO0117TpTdKJGR-H3Nfonc78dmZXviMy6ffXGqSQ_BzS/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=JYlIcWsmLoX559PtrPjO0RAGxuo%3D)

## 3\. Public Subnet, Private Subnet 생성

1. Create subnet
![image](https://blog.kakaocdn.net/dna/4kpZp/btsHRKIBQxA/AAAAAAAAAAAAAAAAAAAAAFwndJG7QQlTvIno4ZImriFzJ_rQBtrlt9iKTO0btLHc/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=acFsqE%2BDgwNbVbZ84FMeAUD5Tn4%3D)

2. Public Subnet, Private Subnet 1 생성 확인
![image](https://blog.kakaocdn.net/dna/nHbpi/btsHSEggsif/AAAAAAAAAAAAAAAAAAAAAAyCfWAoOfGw7IBKVr1qPPsI3PKfbFMyM_tEmbd6NGXl/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=g0czCZM6iU4ejbtyEbyBTQaEP28%3D)


> Public과 Private의 차이는 라우팅 테이블에 의해 정해지므로 동일한 방법으로 Name과 CIDR만 신경써서 우선 생성한다!
{: .prompt-tip }

## 4\. Public 라우팅 테이블(Route tables) 생성 및 경로 설정, Subnet 할당

#### 1) Public 라우팅 테이블 생성


1. Create route table
![image](https://blog.kakaocdn.net/dna/cpvftz/btsHR1XGvfn/AAAAAAAAAAAAAAAAAAAAAF9D2hPp5CEzaubEUXSID-Adro6aulAVbhpaM9tJpaLz/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=vb0rW7mWHT4XgQvv%2Fcw5nwYYlzo%3D)
    > 기본적으로 VPC를 생성하면 Route table도 같이 생성된다.  
    > 이 Default route table 사용하지 않고 새로 생성해서 이용할 것이다.
    {: .prompt-info }
2. Public Route 생성
![image](https://blog.kakaocdn.net/dna/K5beX/btsHTmeW3sb/AAAAAAAAAAAAAAAAAAAAAFkG6HqVQooveO_s_O8593q1qHR3lZ9cKi4CIEOMGu8k/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=RTi0xjnV3i9NzoxyBfRPz4fyx%2FA%3D)


> 1. Main 속성에 Yes -> VPC 생성될 때 라우팅 테이블도 즉시 같이 생성됨
> ![image](https://blog.kakaocdn.net/dna/HXSUw/btsHR4037O2/AAAAAAAAAAAAAAAAAAAAAGSb6PmSnqMSnW0WWj7AuQd8qpCypIIcWt-mdGOAQWmN/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=Rlw7D6QULWfp8od7iqv2Ys%2B4SxM%3D)
> ▶ 해당 라우팅 테이블이 Public 기본 -> 서브넷 생성 시 해당 라우팅 테이블이 적용되어서 Public의 서브넷이 기본으로 생성되는 것  
> ▶ 해당 라우팅 테이블이 Private 기본 -> 서브넷 생성 시 해당 라우팅 테이블이 적용되어서 Private의 서브넷이 기본으로 생성되는 것
>
> 2. 해당 Main 속성의 Yes 값을 가진 라우팅 테이블이 Private이기 때문에 서브넷 생성 시 Private Subnet이 기본적으로 적용되는 것
> ![image](https://blog.kakaocdn.net/dna/nDcbd/btsHTSkj6GO/AAAAAAAAAAAAAAAAAAAAAOL8lznLq1ElN-rNzcFmxsJdXr0Og0gi6F5vATI7xDmM/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=hHKDaYVmbmpUXH3FlGWfVhwq7oE%3D)
> ★ 기본 생성되는 서브넷이 Public이 되는 것보다 Private이 되는 것이 보안 상 더 안전하기 때문에 Default Route table 변경하지 않는 것이 바람직하다!
{: .prompt-tip }

#### 2) Public 라우팅 테이블 경로 추가
1. 생성된 라우팅 테이블에 외부와 통신할 수 있는 IGW 경로를 추가해줘야 한다.
![image](https://blog.kakaocdn.net/dna/cEdEGy/btsHSCCIPX4/AAAAAAAAAAAAAAAAAAAAAH7YD7ObLiK2-DMdbO1g687QA1vi8z8EfPAUanZZqEm1/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=Q77VlzZZnJOv%2B2H6soXN2yyevbA%3D)

2. Default 경로를 생성한 IGW로 향하도록 경로 추가
![image](https://blog.kakaocdn.net/dna/xHHf5/btsHSsmVT5j/AAAAAAAAAAAAAAAAAAAAAJtxJpebrZn1CgKjCNs8fhXrtJIQJZo8LpzqN8FJXk24/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=jnn1LfcGzT8bR%2FUhfOIazz78jjM%3D)

3. 0.0.0.0/0(모든 경로)의 타겟이 IGW인 경로 추가된 것 확인
![image](https://blog.kakaocdn.net/dna/bVuN5Z/btsHTk9iqa1/AAAAAAAAAAAAAAAAAAAAAEOgCXgbMzVeqh3SfubS8TqgyL8bwh0bLq8zoERaoWVn/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=WrAdGnhYrZGoS7ESUiE00BGLiz4%3D)

#### 3) Public 서브넷에 라우팅 테이블 할당
1. 할당된 서브넷 변경
![image](https://blog.kakaocdn.net/dna/ySzON/btsHSr2CJws/AAAAAAAAAAAAAAAAAAAAAO69J6YxdiljCA7rnskvGvhm19kTg8yY2mKwEgAxdwjM/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=6GMrbFJsEQI17Fr%2FnlPYPrQvamg%3D)

2. Public 경로(IGW로 향하는)를 가진 라우팅 테이블을 Public Subnet에 할당
![image](https://blog.kakaocdn.net/dna/bfLUfZ/btsHRPpCmET/AAAAAAAAAAAAAAAAAAAAAGQ734zBlhwRzk7d8aYRUiGuqCDkuGxG5ThQPd6zAPoZ/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=wEKXWlUsXZr1PswIYCMCuLjEcOQ%3D)

3. 해당 서브넷의 라우팅 경로 확인 가능
![image](https://blog.kakaocdn.net/dna/ci2hIW/btsHTHJWJs2/AAAAAAAAAAAAAAAAAAAAAKADWcTw9IYiqXficr4eUhmIe-wZuh1hb8cD5fYfs1xD/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=cYnGq5E6CxRStXKAaI8%2BXHbDbXQ%3D)

## 5\. Public Subnet Auto-assign IP 설정
1. Edit subnet settings
![image](https://blog.kakaocdn.net/dna/b1NNkW/btsHThx8Oly/AAAAAAAAAAAAAAAAAAAAAE2dw0fcb1jU_qcAJcRsIoDXWCOHtviEFI6OoxMz8LeU/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=D6%2FQt1x8jUkiZ4GxgCoHCqwCFuc%3D)

2. 체크로 해당 기능 활성화
![image](https://blog.kakaocdn.net/dna/olZJn/btsHSrIkMeL/AAAAAAAAAAAAAAAAAAAAAHqMlqKRRyU9WXiJc0gBF1YAp-8VLPIDBO2uhas2Tw1V/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=CSRaFQA5Jh%2F0nNDRSkj4v7FAmQc%3D)

> Public Sunbet은 당연시하게 공인 IP가 필요하다.  
> 인스턴스를 생성할 때 Public Sunbet에 위치하도록 인스턴스를 생성하면 자동으로 공인 IP를 할당해주는 기능을 활성화 하면 유용하다!!  
> (이 설정 없이 인스턴스를 생성하면 체크를 별도로 해줘야 한다.)
{: .prompt-tip }

## 6\. Network ACL & Security Group

#### 1) NACL(Network ACL)
1. Inbound rules로 모든 경로 허용되어 있다.
![image](https://blog.kakaocdn.net/dna/bKYybs/btsHTEUaiT0/AAAAAAAAAAAAAAAAAAAAAGfbi4TJlxlNIGB7lW_S4PBBwHnyFjATvKi0-mJICDbE/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=Ta%2F2jmxjCInsdQcVNsF9%2BKEgk3U%3D)

2. Outbound rules로 모든 경로 허용되어 있다.
![image](https://blog.kakaocdn.net/dna/bBGh8z/btsHStTzud5/AAAAAAAAAAAAAAAAAAAAAIjPdPnBarYf5ldZ1wSMwu33jrBb4-UOvKwyJWge09lf/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=jT9Rnh%2FcSehWwyHwc6LWC6KuTGU%3D)

> Security Group에서 세세하게 차단 설정이 가능하기 때문에 NACL은 크게 건드리는 일이 적다.
{: .prompt-tip }

#### 2) Security Group(SG)
1. 기존의 Default SG 이용하지 않고 새로 생성해서 각 인스턴스 별로 적용 시킬 것이다.
![image](https://blog.kakaocdn.net/dna/cd3YpC/btsHTalwAEu/AAAAAAAAAAAAAAAAAAAAAJoSJzgu6qJA7mErOnwvmVsTxesAvN0HXUMS8zRwi94I/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=XL%2B%2FiQBHujIeJdqHST8jjkXPaJc%3D)

2. SSH, HTTP 허용하는 인바운드 룰 추가
(SSH는 My IP를 통해 현재 내 IP로만 접속 가능하도록 설정, HTTP는 웹 서버 특성 상 모든 곳에서 접속 가능하도록 설정)
![image](https://blog.kakaocdn.net/dna/Ht2L9/btsHRueReTz/AAAAAAAAAAAAAAAAAAAAAAynjQZXM3DzB31eFdiVEvaQYcYTRyLXRcpbyYSxmTih/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=AVuFfTkLQLGH1n14MzJ3ZjIH%2BL8%3D)

3. Security Group(SG)은 태그가 자동으로 적용되지 않는다. 추후 운영적으로도 태그를 꼭 달아주는 것이 좋다!
![image](https://blog.kakaocdn.net/dna/wX79Y/btsHSz0rAwz/AAAAAAAAAAAAAAAAAAAAAG0F4KSVd9a3UaUeC3Ec_hS1CE6jUiFipBB6i5JT70av/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=KvISRBtkB%2BaTyroBq3aXisvFlNg%3D)

4. 태그를 달지 않으면 -(하이픈)으로 표시된다.
![image](https://blog.kakaocdn.net/dna/cV1i0v/btsHRZeuVij/AAAAAAAAAAAAAAAAAAAAAJgcVhp-Iut8mWz2iM96fLfxrYotOafyNBAi2bhdwxIj/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=PSmVR%2BEAoM9fg%2F2tjR7DoaB3Tf0%3D)

> **NACL과 Security Group 차이**  
> ▶ NACL은 서브넷 레벨에서 적용되고, SG는 인스턴스 레벨에서 적용된다.  
> ▶ NACL은 상태 비저장, SG는 상태를 저장한다.  
> ▶ NACL은 기본적으로 모든 트래픽 허용, SG는 인바운드 트래픽을 기본적으로 거부한다.
{: .prompt-info }

## 7\. Web Instance 생성
새 인스턴스 생성
![image](https://blog.kakaocdn.net/dna/b3zMu2/btsHTVg4tAH/AAAAAAAAAAAAAAAAAAAAAA_h8WG8ppqvO90Fk_xvQuOJSAUMkM0lH_tuaYuAPqhG/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=%2FZ%2BtME5FHzH79leREVHp1oWbqbg%3D)

#### 1) Instance Name, AMI 설정
1. Web Server 1 이름 설정 및 ubuntu22.04 AMI 선택
![image](https://blog.kakaocdn.net/dna/bnG4Be/btsHTiRksm7/AAAAAAAAAAAAAAAAAAAAAJf-Xl8XHJvKuezhvSSzIRc13XiX3KhDz7WmAyqFOBua/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=eUSAsLh7A%2Fhy2JQ5dK1KphivBZA%3D)


> **AWS에서의 AMI 종류**
> ▶ Quickstart AMIs : AWS에서 만들어 제공하는 기본적인 AMI<br>
> ▶ My AMIs : 내가 직접 만들어 올린 AMI(도커 허브처럼)<br>
> ▶ AWS Marketplace AMIs : AWS 이외의 개인, 또는 기업들이 만들어 올려놓고 파는 AMI<br>
> ▶ Community : 어떤 잡다한 것들이 설치되어 있는지 보안 인증을 거치지 않은 AMI -> 매우 위험!!!!<br>
> ![image](https://blog.kakaocdn.net/dna/cuhYJr/btsHS7WCj1a/AAAAAAAAAAAAAAAAAAAAAC51pdD3Q893PbtSTLqR0PHppOUtUdH1ER3g1Ru0xY5F/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=zFyKQ%2BEcs4Lcc2bx1YxiDS%2BmFdo%3D)
> 
> ★ Free tier eligible 표시가 없으면 프리티어 기간이더라도 AMI 사용에 대한 비용이 청구된다
{: .prompt-info }

#### 2) Key pair
1. Key pair가 없기 때문에 새로 생성
![image](https://blog.kakaocdn.net/dna/ef72rI/btsHTjJkIN2/AAAAAAAAAAAAAAAAAAAAABUBMhXnbiDjqf2xBp3rajT1h7rd4moyqKk0H62E8omP/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=exm0j%2FTHSL22KXthaf%2FlJBBzOXI%3D)

2. RSA 타입과 .pem 확장자의 키를 HaksuSecurityKey 이름으로 생성
![image](https://blog.kakaocdn.net/dna/lWQWb/btsHSBcQQTw/AAAAAAAAAAAAAAAAAAAAABO793TcXMTcUyZHOF-Bm_GSsK0H_Zh1ix_GeSkX51hX/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=xPRqfIqU9fkwyxC8s8gII3%2F2hpI%3D)

3. 해당 인스턴스 서버의 공개키를 HaksuSecurityKey로 사용하고 .pem 확장자의 개인키는 호스트 PC에 자동 다운로드
![image](https://blog.kakaocdn.net/dna/ptpPh/btsHRKPp8Qp/AAAAAAAAAAAAAAAAAAAAANm9cdF7byYrHNy30hnv6hcL_vzdfQMX28K-yPGqUclZ/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=XSILrTJl5pO6kkZ4ESG5ZVwpy9c%3D)

4. 보안을 위해 기본 다운로드 경로가 아닌 개인 폴더에 보관
![image](https://blog.kakaocdn.net/dna/bBPE5C/btsHTSEEEtp/AAAAAAAAAAAAAAAAAAAAAN_st4I03OoUJW1hppvxirzIXBjAzcOLetSZDppbB_9m/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=hSIeaPmN%2B9cOPmH7uTNJ6EGPDVI%3D)

#### 3) Network 설정

해당 인스턴스를 배포할 네트워크 설정<br>
  - VPC : test VPC<br>
  - Subnet : Public Sunbet<br>
  - Auto-assign public IP : (미지정) 자동으로 Enable 선택됨<br>
  - Firewall(security groups) : 기존에 생성했기 때문에 Select existing
security group 선택 -> Web Server-SG
![image](https://blog.kakaocdn.net/dna/VrrGj/btsHSvKDeph/AAAAAAAAAAAAAAAAAAAAANJ-kgUPW14sw7aLyWR6hGE6NOI6iJicBkPAz3mWWFj8/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=mQxel87yytwOwBdBMQOHqJaZtjA%3D)

#### 4) User data 설정
1. User data 작업을 위한 Advanced details 설정
![image](https://blog.kakaocdn.net/dna/ce48UZ/btsHTCPzRb9/AAAAAAAAAAAAAAAAAAAAABFQbalL7yhPKjjBYOLXX4d_7xHBkmZNJYe-73uOmp8L/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=tzrheQLE0aRwvwMpRDUZrXFgoPk%3D)

2. User data 항목에 스크립트를 작성해 놓으면 인스턴스가 생성될 때마다 해당 스크립트에 작성된 설정이 적용된다.
\-> 고정된 작업이 반복되는 경우 유용하다!!
![image](https://blog.kakaocdn.net/dna/n7TFK/btsHSBcQZ9G/AAAAAAAAAAAAAAAAAAAAAFTO60lEDg2QT2IZ6VeCwHWqSBenvAV--5Km1JyKmwQu/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=rLicqZzFDlh8Nvnju6SHJe7Jkno%3D)


    > ※ AWS Technical Essentials 공인 교육을 받으면서 제공 받은 User data 소스 코드를 이용해 구성하는 것입니다.
    > 
    > ```shell
    > #!/bin/bash
    > #This Userdata was tested on Ubuntu Server 20.04 and 22.04
    > sudo add-apt-repository ppa:ondrej/php
    > sudo apt update
    > # -> 레파지토리 업데이트, apt 업데이트
    > 
    > #Install Util
    > sudo apt -y install unzip
    > #Change Hostname
    > #When creating an EC2 instance, for Allow tags in metadata, select Enabled.
    > NAME_TAG=`/usr/bin/curl -s http://169.254.169.254/latest/meta-data/tags/instance/Name`
    > if [[ $NAME_TAG == *"404 - Not Found"* ]]; then
    > 	NAME_TAG="Web App"
    > fi
    > echo $NAME_TAG | sudo tee /etc/hostname
    > echo $NAME_TAG | sudo tee /proc/sys/kernel/hostname
    > # -> 호스트네임 변경, 서버 이름이 명령창에 뜨도록
    > # -> 메타데이터라는 곳에 접근을 해야함(인스턴스가 생성되고 나서 인스턴스에 대한 정보, management console 창에서는 보여지는데 운영체제에서는 보이지 않음(가상환경 안에 갖혀있기 때문에), 가상환경에서 바로 접속이 되지 않도록 설정되어 있는 것
    > # -> 운영체제가 메타데이터에 접근해야 해당 서버의 호스트네임을 불러와 변경하는 방식
    > 
    > #Install apache php
    > sudo apt install -y apache2
    > sudo apt install libapache2-mpm-itk
    > sudo apt install -y php7.4
    > sudo apt install -y php-mbstring php-gd php-curl php-xml php-mysql
    > sudo apt install -y php7.4-mysqli
    > # -> 아파치 설치, DB 연동
    > 
    > #Set Environment
    > sudo sed -i 's/;date.timezone =/date.timezone = Asia\/Seoul/g' /etc/php/7.4/apache2/php.ini
    > sudo sed -i 's/;date.timezone =/date.timezone = Asia\/Seoul/g' /etc/php/7.4/cli/php.ini
    > sudo sed -i 's/short_open_tag = Off/short_open_tag = On/g' /etc/php/7.4/apache2/php.ini
    > sudo sed -i 's/short_open_tag = Off/short_open_tag = On/g' /etc/php/7.4/cli/php.ini
    > sudo service apache2 restart
    > # -> php 명령 수정
    > 
    > #Download Source Code
    > sudo chown ubuntu:ubuntu /var/www/html
    > sudo wget [html, php 등 모든 소스코드 파일 다운 경로]
    > sudo mkdir /var/www/html/basic
    > sudo unzip basic_php7_Load.zip -d /var/www/html/basic
    > sudo sed -i 's/>Security Solution/>'"$NAME_TAG"'/g' /var/www/html/basic/index.php
    > sudo sed -i 's/>Security Solution/>'"$NAME_TAG"'/g' /var/www/html/basic/header.php
    > sudo wget [index.html 파일 다운 경로]
    > sudo cp index.html /var/www/html/
    > sudo wget [index.php 파일 다운 경로]
    > sudo cp index.php /var/www/html/
    > sudo chmod 0777 /var/www/html/basic/data
    > # -> 필요한 파일, 설정 다운 및 다운 받은 파일 변경
    > 
    > #Set DB Connection
    > #Change string DBURL to Database Private DNS Endpoint
    > sudo sed -i 's/dbaddress/DBURL/g' /var/www/html/basic/login/dbconn.php
    > sudo service apache2 restart
    > # -> 아직 DB 생성이 안되어서 지금은 이 부분확인 불가
    > ```
    {: .prompt-info }

2. 스크립트 내용 중 호스트 네임을 수정하는 코드 부분에 메타데이터를 이용한다.
운영체제가 메타데이터에 접근해 해당 서버의 호스트 네임을 불러와 변경하는 방식으로 이용한다.
![image](https://blog.kakaocdn.net/dna/AyuLt/btsHSY6EBOW/AAAAAAAAAAAAAAAAAAAAAPVwXKIEtkEE9QZOVwqf2gvuUYRCG-KhxiFGzsEQNdJW/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=3%2FhWCUGuVcGDvREMgxcGymfW0DQ%3D)

#### 5) 인스턴스 생성 확인
1. 인스턴스 생성 확인
(Pending 상태에서 기다렸다가 Running을 확인해야 한다.)
![image](https://blog.kakaocdn.net/dna/nlL3p/btsHTGRQCRj/AAAAAAAAAAAAAAAAAAAAAE9_MK1BYB7tyRp2ifB1GWG_ZUo4WDCljm_HmAKqRYse/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=1KOzazwKdzHUDzSN5H9ndF55jp8%3D)

2. 상태 체크도 User data 초기화가 완료되는 것까지 확인해야 한다.
![image](https://blog.kakaocdn.net/dna/Mw3m1/btsHS885BVd/AAAAAAAAAAAAAAAAAAAAAF8g8WbQ7c9srO-uy-ZLEQwzR4H68UhZe6fhPzmubukK/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=5ucBBMHl4AieXqWNQ98iFWYfAXc%3D)

3. 인스턴스 정상 배포 확인
![image](https://blog.kakaocdn.net/dna/cVIM2P/btsHTARKRJJ/AAAAAAAAAAAAAAAAAAAAAEmWse-syC23b7mhKRXsrle8Ue_0B4s7eFSIDZ6GaahH/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=vpOetLMCDK%2Bfvqce1RGP9Wtlqpg%3D)

## 8\. Web Instance 접속 테스트
1. Public Subnet에 Auto-assign IP 설정을 하거나, 인스턴스 생성 시 Public IP Enable 설정을 하면 Public address가 부여된다. (이를 과금해서 내가 원하는 ip로 지정하는 Elastic IPs도 가능은 하다)
![image](https://blog.kakaocdn.net/dna/cQ1b8s/btsHTk2yex2/AAAAAAAAAAAAAAAAAAAAAD3w17VBR_DtvkCwJ9uBIlEQkZsPnkN1CdYd6JoX7BME/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=H7vOZUkxcgdYhW21SPNGsZCEfRs%3D)

2. 웹 인스턴스 정상 접속 가능
![image](https://blog.kakaocdn.net/dna/bD4Df0/btsHSbZXbvm/AAAAAAAAAAAAAAAAAAAAAKXCc7Oj_ofAKBpByFZg46dGOT3Z9TDgbA92ci-THdSm/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=CaC1shGUAtgSvYRHgZMZ%2BvOZ5Yo%3D)

## 9\. NAT Security Group 생성
1) 원격 접속을 위한 SSH 인바운드 규칙 허용<br>
2) Private Subnet에서 NAT로 보낼 인바운드 TCP  규칙 허용(0~1023 well-known port 오픈 - 위험하기 때문에 VPC 내에서 출발한 패킷만 허용)<br>
3) Private Subnet에서 NAT로 보낼 인바운드 UDP 규칙 허용(0~1023 well-known port 오픈 - 위험하기 때문에 VPC 내에서 출발한 패킷만 허용)<br>
4) Private Subnet에서 테스트로 ping을 보낼 인바운드 규칙 허용(위험하기 때문에 VPC 내에서 출발한 패킷만 허용)
![image](https://blog.kakaocdn.net/dna/bPzeyQ/btsHTGK4L7z/AAAAAAAAAAAAAAAAAAAAANZVY2-1zFGeYTd_ZgE3-tCvcHqRsTYU9l_vR4BbAAn3/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=OGDawPeu0%2Blsec9Q9pNnb2fxXnA%3D)

Name 태그 추가
![image](https://blog.kakaocdn.net/dna/caYuIH/btsHRMGn51b/AAAAAAAAAAAAAAAAAAAAAC7VQziTEO6xOLqOAQ9K2GJa6FljTl2ITRJQl5cOSyzz/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=9eLbmQGJJeiBHyNJy731rl6AlyE%3D)

## 10\. NAT Instance 생성

> NAT Gate way를 사용해도 되지만, 생성하는 것만으로 과금이 발생하기 때문에 NAT 역할을 하는 인스턴스를 Public Subnet에 생성해 대신 NAT의 역할을 하도록 할 것이다.
{: .prompt-tip }

1. 인스턴스명, AMI 설정(Amazon Linux 사용)
![image](https://blog.kakaocdn.net/dna/bHi5dA/btsHSAkKp4l/AAAAAAAAAAAAAAAAAAAAANLBxG881TQMtOwx1FXx40uMCqYQsI8MclNVKoWpkHF-/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=yZZKNNYIh%2BXc2RoqHm%2BLHc2cJd0%3D)

2. t2.micro의 인스턴스 타입, 기존에 생성했던 Key pair 설정
![image](https://blog.kakaocdn.net/dna/okOfO/btsHSUDitko/AAAAAAAAAAAAAAAAAAAAACm9OBu8gtiUx_ekwAJ4kztClX82bq9_X9zoSY0Er7mk/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=l6t4HBWsArgMhamOf1o8Jug8RIk%3D)

3. User data 설정(리눅스의 NAT 기능을 통해 NAT 서버의 기능을 하도록 설정)<br>
1) 포워딩 켜기<br>
2) MASQUERADE 설정<br>
3) iptables-services 설치 후 저장(껐다켜더라도 활성화되도록)
![image](https://blog.kakaocdn.net/dna/ugFVU/btsHRZZWdtI/AAAAAAAAAAAAAAAAAAAAAEDacYAY_oNMGl1A8-Ap1V0w0SI3E4y2G7anzlovArbt/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=hDjFfaD2tEJSjsUcE9HzHeUuEIU%3D)

## 11\. Change source/destination check 기능 끄기
1) 출발지, 목적지 주소를 체크 해서 조작이 됐다라는 것이 발견되면 차단시키겠다는 기능(기본적으로 켜져 있는 상태로 인스턴스가 생성됨)<br>
2) 해커들이 인스턴스들을 이용해 공격하는 것을 방지하기 위해 만들어진 기능(원하면 끌 수 있음)<br>
3) 해커들이 자기가 어렵게 획득한 다른 시스템의 권한을 획득해 공격하는데, 이때 출발지 주소를 변조해 공격함<br>
4) 그 출발지 주소를 속이는 것이 발견되면 못나가게 막는 기능인데, NAT는 이 기능이 핵심이므로 이 기능 자체를 꺼야 함<br>
\-> 꼭 NAT가 아니더라도 가상 머신이 외부로 소스 변환해서 나가야하는 장비의 경우 이 기능을 꺼야 함
![image](https://blog.kakaocdn.net/dna/F7uds/btsHTjbFtm4/AAAAAAAAAAAAAAAAAAAAADSpyl1tiC2e5GQ2vXy1AkNxPOBsIXkGDEs1KYP8D7VW/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=Gv8GQ8DIdDyYPHStY71v4hvLg3o%3D)

기능 끄고 저장
![image](https://blog.kakaocdn.net/dna/cP4BUf/btsHS8uu1Ji/AAAAAAAAAAAAAAAAAAAAAJ8fQUPi8dgFOA3qCVRAOmy9GQtMWF2oUGA9Em4Osw8W/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=O9R4MZEQ%2BDa0EIIzqlvjQlp7j%2Bc%3D)

## 12\. Private 라우팅 테이블 생성 및 서브넷 할당
1. 생성한 NAT 인스턴스로 향하도록 경로 추가
![image](https://blog.kakaocdn.net/dna/bODa67/btsHRJ32kXX/AAAAAAAAAAAAAAAAAAAAAKtg0JBWbgfzzfNecU0-L6gqUQccuzKQnTV5AB_qvo-t/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=7GjxraTZ2AQ5zeLdZMtxQr5ee6s%3D)
![image](https://blog.kakaocdn.net/dna/Aygse/btsHSpqb7Vb/AAAAAAAAAAAAAAAAAAAAABEYObixe2xk9jOEU-k1MpOZxswjm70B1-niylOpeDBX/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=I4KYf3IzPDyU0sMNEwYw%2Bnskw3s%3D)

2. 경로 수정한 라우팅 테이블 서브넷 할당
![image](https://blog.kakaocdn.net/dna/bmUQGn/btsHSwCPgGu/AAAAAAAAAAAAAAAAAAAAAEJBeUjuXYVxPwyRfytr7PefwN2vm_hQZZvzGU0LcoWq/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=rrwPFqEnJVXsi5ZY7xmoSKdLMiA%3D)

3. Private Subnet 1에 할당 후 저장
![image](https://blog.kakaocdn.net/dna/yAOpS/btsHS0i8mu1/AAAAAAAAAAAAAAAAAAAAADVplUzZLT2Xfz732ZTNpXMtBE5vxOEnAuEIHFHKZIeR/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=s5uGQwUq%2BGHWPHzQN1%2FNFRWVmi0%3D)

## 13\. DB Security Group 생성
1. SG 기본정보(이름, 설명, VPC) 및 인바운드 룰 설정<br>
  - SSH : My IP를 통해 내 IP에서 SSH 원격 접속 패킷 허용<br>
  - MYSQL/Aurora : Web Instance용 SG(Web Server-SG)를 통과하는 패킷을 허용하는 개념으로 Source를 SG로 설정 가능
![image](https://blog.kakaocdn.net/dna/bYp8A8/btsHRMsU8J4/AAAAAAAAAAAAAAAAAAAAAD4-3kEa0eFwjA_2eihO3FBcFcm4URTL4bVuENHkxns8/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=IqkuBCdN1u%2B0FR2OeUpsj4Ul53M%3D)

2. Name 태그 추가
![image](https://blog.kakaocdn.net/dna/8tgCO/btsHSyULT0C/AAAAAAAAAAAAAAAAAAAAAF3gX-wPphnERUHZLKgIzjWVBzDzFSAW2firLmXXpaSA/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=6TivHPrjUMRcVRYiX0JIKbZf79U%3D)

## 14\. DB Instance 생성

#### 1) DB명, AMI 설정
DB Server 이름으로 ubuntu 22.04 AMI 설정
![image](https://blog.kakaocdn.net/dna/QkWrd/btsHSsUJmpC/AAAAAAAAAAAAAAAAAAAAAAm7jPUhZDsT9dMne4LAqPIb6bw6PVMfpYC0nNhfpkUK/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=YetTm0iObPmRxs2%2BWjcEFVrStEo%3D)

#### 2) 인스턴스 타입, Key pair 설정
t2.micro의 인스턴스 타입, 기존에 생성했던 Key pair 사용
![image](https://blog.kakaocdn.net/dna/buINxx/btsHStsxbx2/AAAAAAAAAAAAAAAAAAAAAPekwX1XYKHBb0C-vQnLH-iajVxU9_kfRreZ-kGhZulg/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=KyoG5yhp5coRq59fdv6cxQwhHdQ%3D)

#### 3) Network 설정
VPC, Subnet, SG 설정
(DB는 Private Subnet에 위치하기 때문에 Auto-assign public IP 설정이 Disable이다.)
![image](https://blog.kakaocdn.net/dna/cpfWdF/btsHSYexbH7/AAAAAAAAAAAAAAAAAAAAABFu433-AZvnw8_4g_2GfYliQeQ-Ezic_IR3qJTkhy6M/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=V3Hl%2BB1MB0R%2BAY8pobRVTXF8kiQ%3D)

#### 4) User data 설정
![image](https://blog.kakaocdn.net/dna/c7y8ZR/btsHSYS9po9/AAAAAAAAAAAAAAAAAAAAANjOR2MnChsmPNZKRs9sNKYPkynLToqxhqYBvNMjlvPW/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=%2FjTg69OPrv%2FyPjQQ4bqj18aBN6I%3D)


> **※ AWS Technical Essentials 공인 교육을 받으면서 제공 받은 User data 소스 코드를 이용해 구성하는 것입니다.**<br>
> ```shell
> #!/bin/bash
> #This Userdata is for a MySQL 8.0 and was tested on Ubuntu Server 20.04 and 22.04
> sudo apt update
> 
> # Turn on password authentication for lab challenge
> echo 'ubuntu:hackers' | sudo chpasswd
> sudo sed -i 's/PasswordAuthentication no/PasswordAuthentication yes/g' /etc/ssh/sshd_config
> sudo service sshd restart
> # -> 인증을 패스워드 기반 인증으로 변경
> # ubuntu의 계정 패스워드를 hackers로 변경 후 해당 설정
> # (AWS에서는 keypair 기반 원격 접속 인증을 하는데, 이를 패스워드 기반 인증하도록 변경)
> 
> #Install Util
> sudo apt -y install unzip
> 
> #Install mySQL DB
> sudo apt -y install mysql-client mysql-server
> 
> #Download query file and run
> sudo wget [파일 다운 경로]
> sudo unzip admin_query_MySQL8.zip
> sudo mysql -uroot < root_query.sql
> sudo mysql -ucareadmin -phackers care_db < member.sql
> sudo mysql -ucareadmin -phackers care_db < greet.sql
> # -> DB 생성, 계정 생성, 계정 권한 부여 설정이 root_query.sql에 저장
> # -> careadmin 계정을 이용해 member.sql과 greet.sql이라는 DB를 생성
> 
> #sudo chkconfig mysqld on
> sudo sed -i 's/bind-address\t\t=/#bind-address\t\t=/g' /etc/mysql/mysql.conf.d/mysqld.cnf
> sudo service mysql restart
> # -> DB에 쿼리를 보내는 것을 막는 설정을 주석처리
> ```
{: .prompt-info }

>  **※ Private Subnet에 생성된 인스턴스에 접속하는 방법**  
> 1\. Bastion Host, 점핑 호스트  
>   - Public Subnet에 관리용 서버를 생성해 이 서버를 경유하여 접속하도록 함  
> 2\. SSH 터널링  
>   - Private Subnet에 생성된 인스턴스에 터널을 다이렉트로 뚫어 바로 Key pair 인증 가능  
> 3\. VPN  
>   - VPN을 뚫어 Private Subnet 인스턴스에 접근
{: .prompt-tip }

#### 5) DB Instance 배포
1. Pending -> Running 확인 해야 함
![image](https://blog.kakaocdn.net/dna/MxlfS/btsHTGEj76Z/AAAAAAAAAAAAAAAAAAAAAKAYHFUvoHFJ0NYxopW5PBWWLZHtljgPqcqu-aTLhegt/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=v9iN3UV%2F930O2MGJIaruKKsUa5I%3D)

2. User data 초기화 진행 기다려야 한다.
![image](https://blog.kakaocdn.net/dna/DBdDC/btsHRZMpK27/AAAAAAAAAAAAAAAAAAAAANK00fGQKJeTjSlnSnLyeCnGWnIBF9y4fgFIS0wQO3x2/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=XhIatZCPBF9fm3DKtDh1TYD0WOw%3D)

3. DB 인스턴스 정상 배포
![image](https://blog.kakaocdn.net/dna/ecknXA/btsHSYyO4Rk/AAAAAAAAAAAAAAAAAAAAAF5Q9iuVBfxSLdH0qKQJS8_bFqct8eRgQYVg5xQfswWJ/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=M1KFlG4wDpaFAwP7UBjcewq4AQw%3D)

## 15\. Web Instance와 DB Instance 연동
1. Web Instance에 DB 연동을 위한 경로를 지정해줘야 한다.
![image](https://blog.kakaocdn.net/dna/bZ0wAs/btsHSz7bcLW/AAAAAAAAAAAAAAAAAAAAANGjOvSHM3qdZWaaMWgK7SyRJuavWxn2UagwysxB6N4Y/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=xqF86qwFCxHVSP6heYo%2Fw%2FrRTcY%3D)

2. 지정했던 Key pair 개인키를 이용해 Web Instance 원격 접속
![image](https://blog.kakaocdn.net/dna/QsySt/btsHTlAo61R/AAAAAAAAAAAAAAAAAAAAALXaawoY9h6QjSLli4GJ1JgmuGg_kek7T_AecTup0X5J/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=9hudGHSQ%2FJpht1ji1hcEpqHdC58%3D)

3. db연동 정보가 담긴 dbconn.php 파일 vi 편집기로 열기
![image](https://blog.kakaocdn.net/dna/bgSyYb/btsHSbluMq5/AAAAAAAAAAAAAAAAAAAAAPzetLkIOzEwRiO0a_xsYeO26D_48CVgGNlo1PEucPVy/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=%2F9ukbReO0mnu1rqCvn4kPjviXVA%3D)

4. 생성한 DB Instance Private IP를 $mysql\_hostname 변수에 값으로 입력
![image](https://blog.kakaocdn.net/dna/dgNbhq/btsHSTqPLL0/AAAAAAAAAAAAAAAAAAAAANUllA6m3BI4Wsg4Y9cxgyDQ9mMItaRCsYYvyQ5YaX4g/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=7%2FbWaS3GrcVSO3hHLpfqsfvY1a8%3D)

5. 연동 에러 문구가 뜨지 않고 연동 성공!
![image](https://blog.kakaocdn.net/dna/ucO4k/btsHTg67Ldu/AAAAAAAAAAAAAAAAAAAAAMAka0LAwdbbtMS4sjNysCNF5Ep6S1Er1j9CzYTzJ9uT/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=rFNdyK0ojeywJ2Na5B313mR5tbI%3D)

6. 회원가입, 로그인, 게시판 글 작성 모두 가능하다.

- 회원가입
![image](https://blog.kakaocdn.net/dna/bZF5ts/btsHSvRruso/AAAAAAAAAAAAAAAAAAAAAE7i3SVkSsnEq7bL0-vUTYct3WM3L-LPV0Zc627AL4oj/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=YCHFuPSO7Stm7c5%2BV8%2BHmho1CI0%3D)
![image](https://blog.kakaocdn.net/dna/blVSjN/btsHSTEnZMR/AAAAAAAAAAAAAAAAAAAAAPPoXi1ihgwVMd6_2XSRDBMYY8r5FY5wUm-4CxP0iLWb/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=X8NAQjfE88W1SVAevk7CtnpxAfQ%3D)

- 로그인
![image](https://blog.kakaocdn.net/dna/cf7oem/btsHR83oZ5o/AAAAAAAAAAAAAAAAAAAAANxf6xDtZBACL8ca-bay907cMuYspLMFDGtdh26_62ze/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=UNCSGxH8Ye8wA6VZSEkS1Uh8Rbk%3D)
![image](https://blog.kakaocdn.net/dna/MJfu7/btsHTf1pAWV/AAAAAAAAAAAAAAAAAAAAAALcJ73ZHMCMAHi4EukDZrt6KhcAmDai5VVxhaMxgOLH/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=7FRTKnVEQeU%2FY35W%2BAETvXnu2ak%3D)

- 게시판 글 작성
![image](https://blog.kakaocdn.net/dna/IBAWb/btsHSUDi9cf/AAAAAAAAAAAAAAAAAAAAAOro9tRr9uEhBq-DmgL2tsPTTuXK1CDiIxcNro2lASso/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=wwdEDE6P8YM%2FmmE3Q8XG89ZfpDA%3D)
![image](https://blog.kakaocdn.net/dna/bRvo7h/btsHSqvUa7V/AAAAAAAAAAAAAAAAAAAAAPagJfmBKM1iyaTuAsSU9W19XVCFyeKLh35wNJTgsTKI/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1767193199&allow_ip=&allow_referer=&signature=2GjxjknnjstGwRUrnehlC5v0NDI%3D)