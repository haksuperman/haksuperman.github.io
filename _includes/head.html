<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  >
  
  {%- capture seo_tags -%}
    {% seo title=false %}
  {%- endcapture -%}

  <!-- Setup Open Graph image -->

  {% if page.image %}
    {% assign src = page.image.path | default: page.image %}

    {% unless src contains '://' %}
      {%- capture img_url -%}
        {% include media-url.html src=src subpath=page.media_subpath absolute=true %}
      {%- endcapture -%}

      {%- capture old_url -%}{{ src | absolute_url }}{%- endcapture -%}
      {%- capture new_url -%}{{ img_url }}{%- endcapture -%}

      {% assign seo_tags = seo_tags | replace: old_url, new_url %}
    {% endunless %}

  {% elsif site.social_preview_image %}
    {%- capture img_url -%}
      {% include media-url.html src=site.social_preview_image absolute=true %}
    {%- endcapture -%}

    {%- capture og_image -%}
      <meta property="og:image" content="{{ img_url }}" />
    {%- endcapture -%}

    {%- capture twitter_image -%}
      <meta name="twitter:card" content="summary_large_image" />
      <meta property="twitter:image" content="{{ img_url }}" />
    {%- endcapture -%}

    {% assign old_meta_clip = '<meta name="twitter:card" content="summary" />' %}
    {% assign new_meta_clip = og_image | append: twitter_image %}
    {% assign seo_tags = seo_tags | replace: old_meta_clip, new_meta_clip %}
  {% endif %}

  {{ seo_tags }}

  <title>
    {%- unless page.layout == 'home' -%}
      {{ page.title | append: ' | ' }}
    {%- endunless -%}
    {{ site.title }}
  </title>

  {% include_cached favicons.html %}

  <!-- Resource Hints -->
  {% unless site.assets.self_host.enabled %}
    {% for hint in site.data.origin.cors.resource_hints %}
      {% for link in hint.links %}
        <link rel="{{ link.rel }}" href="{{ hint.url }}" {{ link.opts | join: ' ' }}>
      {% endfor %}
    {% endfor %}
  {% endunless %}

  <!-- Bootstrap -->
  {% unless jekyll.environment == 'production' %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css">
  {% endunless %}

  <!-- Theme style -->
  <link rel="stylesheet" href="{{ '/assets/css/:THEME.css' | replace: ':THEME', site.theme | relative_url }}">

  <!-- ####### Font -->
  <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">


  <!-- Web Font -->
  <link rel="stylesheet" href="{{ site.data.origin[type].webfonts | relative_url }}">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="{{ site.data.origin[type].fontawesome.css | relative_url }}">

  <!-- 3rd-party Dependencies -->

  {% if site.toc and page.toc %}
    <link rel="stylesheet" href="{{ site.data.origin[type].toc.css | relative_url }}">
  {% endif %}

  {% if page.layout == 'post' or page.layout == 'page' or page.layout == 'home' %}
    <link rel="stylesheet" href="{{ site.data.origin[type]['lazy-polyfill'].css | relative_url }}">
  {% endif %}

  {% if page.layout == 'page' or page.layout == 'post' %}
    <!-- Image Popup -->
    <link rel="stylesheet" href="{{ site.data.origin[type].glightbox.css | relative_url }}">
  {% endif %}

  <!-- Scripts -->

  <script src="{{ '/assets/js/dist/theme.min.js' | relative_url }}"></script>

  {% include js-selector.html lang=lang %}

  {% if jekyll.environment == 'production' %}
    <!-- PWA -->
    {% if site.pwa.enabled %}
      <script
        defer
        src="{{ '/app.min.js' | relative_url }}?baseurl={{ site.baseurl | default: '' }}&register={{ site.pwa.cache.enabled }}"
      ></script>
    {% endif %}

    <!-- Web Analytics -->
    {% for analytics in site.analytics %}
      {% capture str %}{{ analytics }}{% endcapture %}
      {% assign platform = str | split: '{' | first %}
      {% if site.analytics[platform].id and site.analytics[platform].id != empty %}
        {% include analytics/{{ platform }}.html %}
      {% endif %}
    {% endfor %}
  {% endif %}

  {% include metadata-hook.html %}
</head>
<style>
  /* 1. [Category 전용] 리스트 그룹(ul) 설정 */
  #page-category ul {
      list-style-type: none !important; /* 기호 삭제 */
      padding-left: 1.5rem !important;  /* 카테고리 목록 들여쓰기 유지 */
  }

  /* 2. [Category 전용] 리스트 아이템(li) 카드 스타일 */
  #page-category li {
      position: relative;
      border-radius: 12px;
      padding: 10px 16px !important;
      margin-bottom: 3px;
      transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
      border: 1px solid transparent;
      list-style: none !important;
  }

  /* 3. 호버(Mouse Over) 효과 */
  #page-category li:hover {
      background-color: rgba(255, 255, 255, 0.06);
      transform: translateY(-2px) scale(1.01);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
      border-color: rgba(255, 255, 255, 0.1);
      cursor: pointer;
  }

  /* 4. 액티브(클릭) 효과 */
  #page-category li:active {
      transform: scale(0.98);
      background-color: rgba(255, 255, 255, 0.08);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      transition-duration: 0.1s;
  }

  /* 5. 텍스트 링크 스타일 강제 초기화 */
  #page-category li a {
      text-decoration: none !important;
      border-bottom: none !important;
      box-shadow: none !important;
      color: inherit !important;
  }
  
  /* 호버 시에도 텍스트 스타일 유지 */
  #page-category li:hover a {
      color: inherit !important;
  }

  /* 6. 카드 전체 클릭 가능하게 만들기 (확장) */
  #page-category li a::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
  }

  /* 7. 날짜 옆 점선 효과 처리 */
  #page-category li .dash {
      transition: opacity 0.2s;
  }
  
  #page-category li:hover .dash {
      opacity: 0.1;
  }

/* --- Archives(아카이브) 타임라인 업그레이드 --- */

  /* 1. [기본 상태] 게시물 제목 & 날짜 색상 (테마 기본값) */
  #archives li a {
      color: var(--text-color) !important;
      text-decoration: none !important;
  }
  #archives li .date {
      color: var(--text-muted-color) !important;
  }

  /* 2. [호버 상태] 배경/카드 효과 제거 (깔끔함 유지) */
  #archives li:hover {
      background: none !important;
      transition: none !important;
  }

  /* 3. [텍스트] 호버 시 색 적용 */
  #archives li:hover a,
  #archives li:hover .date {
      color: #00A8FF !important;
      transition: color 0.2s ease;
  }

  /* 4. [아이콘] 호버 시 빛나는 효과(Glow) */
  #archives li:hover a::before {
      background: #00A8FF !important;
      box-shadow: 0 0 10px #00A8FF !important;
      transform: scale(1.2) !important;
      transition: all 0.2s ease;
  }

  /* 5. 클릭 영역 보정 */
  #archives li {
      position: relative; 
  }
  #archives li a::after {
      content: '';
      position: absolute;
      left: -20px;
      top: 0;
      width: 105%;
      height: 100%;
      z-index: 1;
  }

  /* 6. 연도 아이콘 삭제 */
  #archives .year::after {
      display: none !important;
  }
</style>